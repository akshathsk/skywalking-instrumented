{"remainingRequest":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js??ref--15-3!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/eslint-loader/index.js??ref--14-0!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/utils/d3-trace-tree.ts","dependencies":[{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/utils/d3-trace-tree.ts","mtime":1661850019000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/babel.config.js","mtime":1661850018000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1663881222784},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1663881222612},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1663881224500},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1663881224684},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/eslint-loader/index.js","mtime":1663881222992}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9zazExNy9maW5hbC1wcm9qZWN0L2FwYWNoZS1za3l3YWxraW5nLWFwbS05LjIuMC9za3l3YWxraW5nLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvc2sxMTcvZmluYWwtcHJvamVjdC9hcGFjaGUtc2t5d2Fsa2luZy1hcG0tOS4yLjAvc2t5d2Fsa2luZy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvYXBhY2hlLXNreXdhbGtpbmctYXBtLTkuMi4wL3NreXdhbGtpbmctdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CgovKioKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZSBvciBtb3JlCiAqIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuCiAqIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlIHRvIFlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wCiAqICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoCiAqIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwppbXBvcnQgKiBhcyBkMyBmcm9tICJkMyI7CmltcG9ydCBkM3RpcCBmcm9tICJkMy10aXAiOwoKdmFyIFRyYWNlTWFwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBUcmFjZU1hcChlbCwgaGFuZGxlU2VsZWN0U3BhbikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYWNlTWFwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImkiLCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImVsIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJoYW5kbGVTZWxlY3RTcGFuIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0b3BTbG93IiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaGVpZ2h0IiwgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ3aWR0aCIsIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidG9wQ2hpbGQiLCBbXSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJib2R5IiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0aXAiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInN2ZyIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidHJlZW1hcCIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZGF0YSIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicm93IiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJtaW4iLCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIm1heCIsIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAibGlzdCIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInhTY2FsZSIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic2VxdWVudGlhbFNjYWxlIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJyb290IiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0b3BTbG93TWF4IiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidG9wU2xvd01pbiIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInRvcENoaWxkTWF4IiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidG9wQ2hpbGRNaW4iLCBbXSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJub2RlVXBkYXRlIiwgbnVsbCk7CgogICAgdGhpcy5lbCA9IGVsOwogICAgdGhpcy5oYW5kbGVTZWxlY3RTcGFuID0gaGFuZGxlU2VsZWN0U3BhbjsKICAgIHRoaXMuaSA9IDA7CiAgICB0aGlzLnRvcFNsb3cgPSBbXTsKICAgIHRoaXMudG9wQ2hpbGQgPSBbXTsKICAgIHRoaXMud2lkdGggPSBlbC5jbGllbnRXaWR0aCAtIDIwOwogICAgdGhpcy5oZWlnaHQgPSBlbC5jbGllbnRIZWlnaHQgLSAzMDsKICAgIHRoaXMuYm9keSA9IGQzLnNlbGVjdCh0aGlzLmVsKS5hcHBlbmQoInN2ZyIpLmF0dHIoImNsYXNzIiwgImQzLXRyYWNlLXRyZWUiKS5hdHRyKCJ3aWR0aCIsIHRoaXMud2lkdGggPiAwID8gdGhpcy53aWR0aCA6IDEwKS5hdHRyKCJoZWlnaHQiLCB0aGlzLmhlaWdodCA+IDAgPyB0aGlzLmhlaWdodCA6IDEwKTsKICAgIHRoaXMudGlwID0gZDN0aXAoKS5hdHRyKCJjbGFzcyIsICJkMy10aXAiKS5vZmZzZXQoWy04LCAwXSkuaHRtbChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gIlxuICAgICAgPGRpdiBjbGFzcz1cIm1iLTVcIj4iLmNvbmNhdChkLmRhdGEubGFiZWwsICI8L2Rpdj5cbiAgICAgICIpLmNvbmNhdChkLmRhdGEuZHVyID8gJzxkaXYgY2xhc3M9InNtIj5TZWxmRHVyYXRpb246ICcgKyBkLmRhdGEuZHVyICsgIm1zPC9kaXY+IiA6ICIiLCAiXG4gICAgICAiKS5jb25jYXQoZC5kYXRhLmVuZFRpbWUgLSBkLmRhdGEuc3RhcnRUaW1lID8gJzxkaXYgY2xhc3M9InNtIj5Ub3RhbER1cmF0aW9uOiAnICsgKGQuZGF0YS5lbmRUaW1lIC0gZC5kYXRhLnN0YXJ0VGltZSkgKyAibXM8L2Rpdj4iIDogIiIsICJcbiAgICAgICIpOwogICAgfSk7CiAgICB0aGlzLnN2ZyA9IHRoaXMuYm9keS5hcHBlbmQoImciKS5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAidHJhbnNsYXRlKDEyMCwgMCkiOwogICAgfSk7CiAgICB0aGlzLnN2Zy5jYWxsKHRoaXMudGlwKTsKICB9CgogIF9jcmVhdGVDbGFzcyhUcmFjZU1hcCwgW3sKICAgIGtleTogInJlc2l6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkgewogICAgICBpZiAoIXRoaXMuZWwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMud2lkdGggPSB0aGlzLmVsLmNsaWVudFdpZHRoOwogICAgICB0aGlzLmhlaWdodCA9IHRoaXMuZWwuY2xpZW50SGVpZ2h0ICsgMTAwOwogICAgICB0aGlzLmJvZHkuYXR0cigid2lkdGgiLCB0aGlzLndpZHRoKS5hdHRyKCJoZWlnaHQiLCB0aGlzLmhlaWdodCk7CiAgICAgIHRoaXMuYm9keS5zZWxlY3QoImciKS5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICJ0cmFuc2xhdGUoMTYwLCAwKSI7CiAgICAgIH0pOwogICAgICB2YXIgdHJhbnNmb3JtID0gZDMuem9vbVRyYW5zZm9ybSh0aGlzLmJvZHkpLnRyYW5zbGF0ZSgwLCAwKTsKICAgICAgZDMuem9vbSgpLnRyYW5zZm9ybSh0aGlzLmJvZHksIHRyYW5zZm9ybSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChkYXRhLCByb3cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMudHJlZW1hcCA9IGQzLnRyZWUoKS5zaXplKFtyb3cubGVuZ3RoICogMzUsIHRoaXMud2lkdGhdKTsKICAgICAgdGhpcy5yb3cgPSByb3c7CiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgIHRoaXMubWluID0gTnVtYmVyKGQzLm1pbih0aGlzLnJvdy5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5zdGFydFRpbWU7CiAgICAgIH0pKSk7CiAgICAgIHRoaXMubWF4ID0gTnVtYmVyKGQzLm1heCh0aGlzLnJvdy5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5lbmRUaW1lIC0gX3RoaXMubWluOwogICAgICB9KSkpOwogICAgICB0aGlzLmxpc3QgPSBBcnJheS5mcm9tKG5ldyBTZXQodGhpcy5yb3cubWFwKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGkuc2VydmljZUNvZGU7CiAgICAgIH0pKSk7CiAgICAgIHRoaXMueFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbMCwgMTAwXSkuZG9tYWluKFswLCB0aGlzLm1heF0pOwogICAgICB0aGlzLnNlcXVlbnRpYWxTY2FsZSA9IGQzLnNjYWxlU2VxdWVudGlhbCgpLmRvbWFpbihbMCwgdGhpcy5saXN0Lmxlbmd0aCArIDFdKS5pbnRlcnBvbGF0b3IoZDMuaW50ZXJwb2xhdGVDb29sKTsKICAgICAgdGhpcy5ib2R5LmNhbGwodGhpcy5nZXRab29tQmVoYXZpb3IodGhpcy5zdmcpKTsKICAgICAgdGhpcy5yb290ID0gZDMuaGllcmFyY2h5KHRoaXMuZGF0YSwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5jaGlsZHJlbjsKICAgICAgfSk7CiAgICAgIHRoaXMucm9vdC54MCA9IHRoaXMuaGVpZ2h0IC8gMjsKICAgICAgdGhpcy5yb290LnkwID0gMDsKICAgICAgdGhpcy50b3BTbG93ID0gW107CiAgICAgIHRoaXMudG9wQ2hpbGQgPSBbXTsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGlzLnJvb3QuY2hpbGRyZW4uZm9yRWFjaChjb2xsYXBzZSk7CiAgICAgIHRoaXMudG9wU2xvd01heCA9IHRoaXMudG9wU2xvdy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGIgLSBhOwogICAgICB9KVswXTsKICAgICAgdGhpcy50b3BTbG93TWluID0gdGhpcy50b3BTbG93LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYiAtIGE7CiAgICAgIH0pWzRdOwogICAgICB0aGlzLnRvcENoaWxkTWF4ID0gdGhpcy50b3BDaGlsZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGIgLSBhOwogICAgICB9KVswXTsKICAgICAgdGhpcy50b3BDaGlsZE1pbiA9IHRoaXMudG9wQ2hpbGQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBiIC0gYTsKICAgICAgfSlbNF07CiAgICAgIHRoaXMudXBkYXRlKHRoaXMucm9vdCk7IC8vIENvbGxhcHNlIHRoZSBub2RlIGFuZCBhbGwgaXQncyBjaGlsZHJlbgoKICAgICAgZnVuY3Rpb24gY29sbGFwc2UoZCkgewogICAgICAgIGlmIChkLmNoaWxkcmVuKSB7CiAgICAgICAgICB2YXIgZHVyID0gZC5kYXRhLmVuZFRpbWUgLSBkLmRhdGEuc3RhcnRUaW1lOwogICAgICAgICAgZC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgIGR1ciAtPSBpLmRhdGEuZW5kVGltZSAtIGkuZGF0YS5zdGFydFRpbWU7CiAgICAgICAgICB9KTsKICAgICAgICAgIGQuZHVyID0gZHVyIDwgMCA/IDAgOiBkdXI7CiAgICAgICAgICB0aGF0LnRvcFNsb3cucHVzaChkdXIpOwogICAgICAgICAgdGhhdC50b3BDaGlsZC5wdXNoKGQuY2hpbGRyZW4ubGVuZ3RoKTsKICAgICAgICAgIGQuY2hpbGRyZW5MZW5ndGggPSBkLmNoaWxkcmVuLmxlbmd0aDsKICAgICAgICAgIGQuY2hpbGRyZW4uZm9yRWFjaChjb2xsYXBzZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZHJhdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHsKICAgICAgdGhpcy51cGRhdGUodGhpcy5yb290KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShzb3VyY2UpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciB0cmVlRGF0YSA9IHRoaXMudHJlZW1hcCh0aGlzLnJvb3QpOwogICAgICB2YXIgbm9kZXMgPSB0cmVlRGF0YS5kZXNjZW5kYW50cygpLAogICAgICAgICAgbGlua3MgPSB0cmVlRGF0YS5kZXNjZW5kYW50cygpLnNsaWNlKDEpOwogICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgZC55ID0gZC5kZXB0aCAqIDE0MDsKICAgICAgfSk7CiAgICAgIHZhciBub2RlID0gdGhpcy5zdmcuc2VsZWN0QWxsKCJnLm5vZGUiKS5kYXRhKG5vZGVzLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmlkIHx8IChkLmlkID0gKytfdGhpczIuaSk7CiAgICAgIH0pOwogICAgICB2YXIgbm9kZUVudGVyID0gbm9kZS5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIiwgIm5vZGUiKS5hdHRyKCJjdXJzb3IiLCAicG9pbnRlciIpLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gInRyYW5zbGF0ZSgiICsgc291cmNlLnkwICsgIiwiICsgc291cmNlLngwICsgIikiOwogICAgICB9KS5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24gKGV2ZW50LCBkKSB7CiAgICAgICAgdGhhdC50aXAuc2hvdyhkLCB0aGlzKTsKCiAgICAgICAgaWYgKCF0aGF0LnRpbWVVcGRhdGUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBfbm9kZSA9IHRoYXQudGltZVVwZGF0ZS5fZ3JvdXBzWzBdLmZpbHRlcihmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgIHJldHVybiBncm91cC5fX2RhdGFfXy5pZCA9PT0gdGhhdC5pICsgMTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKF9ub2RlLmxlbmd0aCkgewogICAgICAgICAgdGhhdC50aW1lVGlwLnNob3coZCwgX25vZGVbMF0uY2hpbGRyZW5bMV0pOwogICAgICAgIH0KICAgICAgfSkub24oIm1vdXNlb3V0IiwgZnVuY3Rpb24gKGV2ZW50LCBkKSB7CiAgICAgICAgdGhhdC50aXAuaGlkZShkLCB0aGlzKTsKCiAgICAgICAgaWYgKCF0aGF0LnRpbWVVcGRhdGUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBfbm9kZSA9IHRoYXQudGltZVVwZGF0ZS5fZ3JvdXBzWzBdLmZpbHRlcihmdW5jdGlvbiAoZ3JvdXApIHsKICAgICAgICAgIHJldHVybiBncm91cC5fX2RhdGFfXy5pZCA9PT0gdGhhdC5pICsgMTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKF9ub2RlLmxlbmd0aCkgewogICAgICAgICAgdGhhdC50aW1lVGlwLmhpZGUoZCwgX25vZGVbMF0uY2hpbGRyZW5bMV0pOwogICAgICAgIH0KICAgICAgfSkub24oImNsaWNrIiwgZnVuY3Rpb24gKGV2ZW50LCBkKSB7CiAgICAgICAgdGhhdC5oYW5kbGVTZWxlY3RTcGFuKGQpOwogICAgICB9KTsKICAgICAgbm9kZUVudGVyLmFwcGVuZCgiY2lyY2xlIikuYXR0cigiY2xhc3MiLCAibm9kZSIpLmF0dHIoInIiLCAxZS02KS5zdHlsZSgiZmlsbCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuX2NoaWxkcmVuID8gX3RoaXMyLnNlcXVlbnRpYWxTY2FsZShfdGhpczIubGlzdC5pbmRleE9mKGQuZGF0YS5zZXJ2aWNlQ29kZSkpIDogIiNmZmYiOwogICAgICB9KS5hdHRyKCJzdHJva2UiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBfdGhpczIuc2VxdWVudGlhbFNjYWxlKF90aGlzMi5saXN0LmluZGV4T2YoZC5kYXRhLnNlcnZpY2VDb2RlKSk7CiAgICAgIH0pLmF0dHIoInN0cm9rZS13aWR0aCIsIDIuNSk7CiAgICAgIG5vZGVFbnRlci5hcHBlbmQoInRleHQiKS5hdHRyKCJmb250LXNpemUiLCAxMSkuYXR0cigiZHkiLCAiLTAuNWVtIikuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gfHwgZC5fY2hpbGRyZW4gPyAtMTUgOiAxNTsKICAgICAgfSkuYXR0cigidGV4dC1hbmNob3IiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmNoaWxkcmVuIHx8IGQuX2NoaWxkcmVuID8gImVuZCIgOiAic3RhcnQiOwogICAgICB9KS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuZGF0YS5sYWJlbC5sZW5ndGggPiAxOSA/IChkLmRhdGEuaXNFcnJvciA/ICLil4kgIiA6ICIiKSArIGQuZGF0YS5sYWJlbC5zbGljZSgwLCAxOSkgKyAiLi4uIiA6IChkLmRhdGEuaXNFcnJvciA/ICLil4kgIiA6ICIiKSArIGQuZGF0YS5sYWJlbDsKICAgICAgfSkuc3R5bGUoImZpbGwiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiAhZC5kYXRhLmlzRXJyb3IgPyAiIzNkNDQ0ZiIgOiAiI0U1NEMxNyI7CiAgICAgIH0pOwogICAgICBub2RlRW50ZXIuYXBwZW5kKCJ0ZXh0IikuYXR0cigiY2xhc3MiLCAibm9kZS10ZXh0IikuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gfHwgZC5fY2hpbGRyZW4gPyAtMTUgOiAxNTsKICAgICAgfSkuYXR0cigiZHkiLCAiMWVtIikuYXR0cigiZmlsbCIsICIjYmJiIikuYXR0cigidGV4dC1hbmNob3IiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmNoaWxkcmVuIHx8IGQuX2NoaWxkcmVuID8gImVuZCIgOiAic3RhcnQiOwogICAgICB9KS5zdHlsZSgiZm9udC1zaXplIiwgIjEwcHgiKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChkLmRhdGEubGF5ZXIgfHwgIiIpLmNvbmNhdChkLmRhdGEuY29tcG9uZW50ID8gIi0iICsgZC5kYXRhLmNvbXBvbmVudCA6IGQuZGF0YS5jb21wb25lbnQgfHwgIiIpOwogICAgICB9KTsKICAgICAgbm9kZUVudGVyLmFwcGVuZCgicmVjdCIpLmF0dHIoInJ4IiwgMSkuYXR0cigicnkiLCAxKS5hdHRyKCJoZWlnaHQiLCAyKS5hdHRyKCJ3aWR0aCIsIDEwMCkuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gfHwgZC5fY2hpbGRyZW4gPyAiLTExMCIgOiAiMTAiOwogICAgICB9KS5hdHRyKCJ5IiwgLTEpLnN0eWxlKCJmaWxsIiwgIiMwMDAwMDAyMCIpOwogICAgICBub2RlRW50ZXIuYXBwZW5kKCJyZWN0IikuYXR0cigicngiLCAxKS5hdHRyKCJyeSIsIDEpLmF0dHIoImhlaWdodCIsIDIpLmF0dHIoIndpZHRoIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICBpZiAoIWQuZGF0YS5lbmRUaW1lIHx8ICFkLmRhdGEuc3RhcnRUaW1lKSByZXR1cm4gMDsKICAgICAgICByZXR1cm4gX3RoaXMyLnhTY2FsZShkLmRhdGEuZW5kVGltZSAtIGQuZGF0YS5zdGFydFRpbWUpICsgMSB8fCAwOwogICAgICB9KS5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICBpZiAoIWQuZGF0YS5lbmRUaW1lIHx8ICFkLmRhdGEuc3RhcnRUaW1lKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIGlmIChkLmNoaWxkcmVuIHx8IGQuX2NoaWxkcmVuKSB7CiAgICAgICAgICByZXR1cm4gLTExMCArIF90aGlzMi54U2NhbGUoZC5kYXRhLnN0YXJ0VGltZSAtIF90aGlzMi5taW4pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDEwICsgX3RoaXMyLnhTY2FsZShkLmRhdGEuc3RhcnRUaW1lIC0gX3RoaXMyLm1pbik7CiAgICAgIH0pLmF0dHIoInkiLCAtMSkuc3R5bGUoImZpbGwiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBfdGhpczIuc2VxdWVudGlhbFNjYWxlKF90aGlzMi5saXN0LmluZGV4T2YoZC5kYXRhLnNlcnZpY2VDb2RlKSk7CiAgICAgIH0pOwogICAgICB2YXIgbm9kZVVwZGF0ZSA9IG5vZGVFbnRlci5tZXJnZShub2RlKTsKICAgICAgdGhpcy5ub2RlVXBkYXRlID0gbm9kZVVwZGF0ZTsKICAgICAgbm9kZVVwZGF0ZS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNjAwKS5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyBkLnkgKyAiLCIgKyBkLnggKyAiKSI7CiAgICAgIH0pOwogICAgICBub2RlVXBkYXRlLnNlbGVjdCgiY2lyY2xlLm5vZGUiKS5hdHRyKCJyIiwgNSkuc3R5bGUoImZpbGwiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLl9jaGlsZHJlbiA/IF90aGlzMi5zZXF1ZW50aWFsU2NhbGUoX3RoaXMyLmxpc3QuaW5kZXhPZihkLmRhdGEuc2VydmljZUNvZGUpKSA6ICIjZmZmIjsKICAgICAgfSkuYXR0cigiY3Vyc29yIiwgInBvaW50ZXIiKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoZCkgewogICAgICAgIGNsaWNrKGQpOwogICAgICB9KTsKICAgICAgdmFyIG5vZGVFeGl0ID0gbm9kZS5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDYwMCkuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyBzb3VyY2UueSArICIsIiArIHNvdXJjZS54ICsgIikiOwogICAgICB9KS5yZW1vdmUoKTsKICAgICAgbm9kZUV4aXQuc2VsZWN0KCJjaXJjbGUiKS5hdHRyKCJyIiwgMWUtNik7CiAgICAgIG5vZGVFeGl0LnNlbGVjdCgidGV4dCIpLnN0eWxlKCJmaWxsLW9wYWNpdHkiLCAxZS02KTsKICAgICAgdmFyIGxpbmsgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoInBhdGgudHJlZS1saW5rIikuZGF0YShsaW5rcywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5pZDsKICAgICAgfSkuc3R5bGUoInN0cm9rZS13aWR0aCIsIDEuNSk7CiAgICAgIHZhciBsaW5rRW50ZXIgPSBsaW5rLmVudGVyKCkuaW5zZXJ0KCJwYXRoIiwgImciKS5hdHRyKCJjbGFzcyIsICJ0cmVlLWxpbmsiKS5hdHRyKCJkIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvID0gewogICAgICAgICAgeDogc291cmNlLngwLAogICAgICAgICAgeTogc291cmNlLnkwCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gZGlhZ29uYWwobywgbyk7CiAgICAgIH0pLmF0dHIoInN0cm9rZSIsICJyZ2JhKDAsIDAsIDAsIDAuMSkiKS5zdHlsZSgic3Ryb2tlLXdpZHRoIiwgMS41KS5zdHlsZSgiZmlsbCIsICJub25lIik7CiAgICAgIHZhciBsaW5rVXBkYXRlID0gbGlua0VudGVyLm1lcmdlKGxpbmspOwogICAgICBsaW5rVXBkYXRlLnRyYW5zaXRpb24oKS5kdXJhdGlvbig2MDApLmF0dHIoImQiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkaWFnb25hbChkLCBkLnBhcmVudCk7CiAgICAgIH0pOwogICAgICBsaW5rLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNjAwKS5hdHRyKCJkIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvID0gewogICAgICAgICAgeDogc291cmNlLngsCiAgICAgICAgICB5OiBzb3VyY2UueQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGRpYWdvbmFsKG8sIG8pOwogICAgICB9KS5zdHlsZSgic3Ryb2tlLXdpZHRoIiwgMS41KS5yZW1vdmUoKTsKICAgICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgIGQueDAgPSBkLng7CiAgICAgICAgZC55MCA9IGQueTsKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBkaWFnb25hbChzLCBkKSB7CiAgICAgICAgcmV0dXJuICJNICIuY29uY2F0KHMueSwgIiAiKS5jb25jYXQocy54LCAiXG4gICAgICBDICIpLmNvbmNhdCgocy55ICsgZC55KSAvIDIsICIgIikuY29uY2F0KHMueCwgIiwgIikuY29uY2F0KChzLnkgKyBkLnkpIC8gMiwgIiAiKS5jb25jYXQoZC54LCAiLFxuICAgICAgIikuY29uY2F0KGQueSwgIiAiKS5jb25jYXQoZC54KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gY2xpY2soZCkgewogICAgICAgIGlmIChkLmNoaWxkcmVuKSB7CiAgICAgICAgICBkLl9jaGlsZHJlbiA9IGQuY2hpbGRyZW47CiAgICAgICAgICBkLmNoaWxkcmVuID0gbnVsbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZC5jaGlsZHJlbiA9IGQuX2NoaWxkcmVuOwogICAgICAgICAgZC5fY2hpbGRyZW4gPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgdGhhdC51cGRhdGUoZCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXREZWZhdWx0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZhdWx0KCkgewogICAgICBkMy5zZWxlY3RBbGwoIi50aW1lLWlubmVyIikuc3R5bGUoIm9wYWNpdHkiLCAxKTsKICAgICAgZDMuc2VsZWN0QWxsKCIudGltZS1pbm5lci1kdXJhdGlvbiIpLnN0eWxlKCJvcGFjaXR5IiwgMCk7CiAgICAgIGQzLnNlbGVjdEFsbCgiLnRyYWNlLXRyZWUtbm9kZS1zZWxmZHVyIikuc3R5bGUoIm9wYWNpdHkiLCAwKTsKICAgICAgZDMuc2VsZWN0QWxsKCIudHJhY2UtdHJlZS1ub2RlLXNlbGZjaGlsZCIpLnN0eWxlKCJvcGFjaXR5IiwgMCk7CgogICAgICB0aGlzLm5vZGVVcGRhdGUuX2dyb3Vwc1swXS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgZDMuc2VsZWN0KGkpLnN0eWxlKCJvcGFjaXR5IiwgMSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFRvcENoaWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb3BDaGlsZCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBkMy5zZWxlY3RBbGwoIi50aW1lLWlubmVyIikuc3R5bGUoIm9wYWNpdHkiLCAxKTsKICAgICAgZDMuc2VsZWN0QWxsKCIudGltZS1pbm5lci1kdXJhdGlvbiIpLnN0eWxlKCJvcGFjaXR5IiwgMCk7CiAgICAgIGQzLnNlbGVjdEFsbCgiLnRyYWNlLXRyZWUtbm9kZS1zZWxmZHVyIikuc3R5bGUoIm9wYWNpdHkiLCAwKTsKICAgICAgZDMuc2VsZWN0QWxsKCIudHJhY2UtdHJlZS1ub2RlLXNlbGZjaGlsZCIpLnN0eWxlKCJvcGFjaXR5IiwgMSk7CgogICAgICB0aGlzLm5vZGVVcGRhdGUuX2dyb3Vwc1swXS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgZDMuc2VsZWN0KGkpLnN0eWxlKCJvcGFjaXR5IiwgMC4yKTsKCiAgICAgICAgaWYgKGkuX19kYXRhX18uZGF0YS5jaGlsZHJlbi5sZW5ndGggPj0gX3RoaXMzLnRvcENoaWxkTWluICYmIGkuX19kYXRhX18uZGF0YS5jaGlsZHJlbi5sZW5ndGggPD0gX3RoaXMzLnRvcENoaWxkTWF4KSB7CiAgICAgICAgICBkMy5zZWxlY3QoaSkuc3R5bGUoIm9wYWNpdHkiLCAxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFRvcFNsb3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRvcFNsb3coKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgZDMuc2VsZWN0QWxsKCIudGltZS1pbm5lciIpLnN0eWxlKCJvcGFjaXR5IiwgMCk7CiAgICAgIGQzLnNlbGVjdEFsbCgiLnRpbWUtaW5uZXItZHVyYXRpb24iKS5zdHlsZSgib3BhY2l0eSIsIDEpOwogICAgICBkMy5zZWxlY3RBbGwoIi50cmFjZS10cmVlLW5vZGUtc2VsZmNoaWxkIikuc3R5bGUoIm9wYWNpdHkiLCAwKTsKICAgICAgZDMuc2VsZWN0QWxsKCIudHJhY2UtdHJlZS1ub2RlLXNlbGZkdXIiKS5zdHlsZSgib3BhY2l0eSIsIDEpOwoKICAgICAgdGhpcy5ub2RlVXBkYXRlLl9ncm91cHNbMF0uZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgIGQzLnNlbGVjdChpKS5zdHlsZSgib3BhY2l0eSIsIDAuMik7CgogICAgICAgIGlmIChpLl9fZGF0YV9fLmRhdGEuZHVyID49IF90aGlzNC50b3BTbG93TWluICYmIGkuX19kYXRhX18uZGF0YS5kdXIgPD0gX3RoaXM0LnRvcFNsb3dNYXgpIHsKICAgICAgICAgIGQzLnNlbGVjdChpKS5zdHlsZSgib3BhY2l0eSIsIDEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Wm9vbUJlaGF2aW9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRab29tQmVoYXZpb3IoZykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBkMy56b29tKCkuc2NhbGVFeHRlbnQoWzAuMywgMTBdKS5vbigiem9vbSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgZy5hdHRyKCJ0cmFuc2Zvcm0iLCBkMy56b29tVHJhbnNmb3JtKF90aGlzNS5zdmcubm9kZSgpKSkuYXR0cigidHJhbnNsYXRlKCIuY29uY2F0KGQudHJhbnNmb3JtLngsICIsIikuY29uY2F0KGQudHJhbnNmb3JtLnksICIpc2NhbGUoIikuY29uY2F0KGQudHJhbnNmb3JtLmssICIpIikpOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBUcmFjZU1hcDsKfSgpOwoKZXhwb3J0IHsgVHJhY2VNYXAgYXMgZGVmYXVsdCB9Ow=="},null]}