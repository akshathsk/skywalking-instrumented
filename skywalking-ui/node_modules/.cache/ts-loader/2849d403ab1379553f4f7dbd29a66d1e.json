{"remainingRequest":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js??ref--15-3!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/demand-log/Header.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/demand-log/Header.vue","mtime":1666468223604},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/babel.config.js","mtime":1666468223484},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1666468229208},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1666468239564},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1666468229004},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1666468239640},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1666468229208},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js","mtime":1666468249808}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9zazExNy9maW5hbC1wcm9qZWN0L2NvcHkvYXBhY2hlLXNreXdhbGtpbmctYXBtLTkuMi4wL3NreXdhbGtpbmctdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvY29weS9hcGFjaGUtc2t5d2Fsa2luZy1hcG0tOS4yLjAvc2t5d2Fsa2luZy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1bnJlZiBhcyBfdW5yZWYsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTJmZGJlMDM2IiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImZsZXgtaCByb3ciCn07CnZhciBfaG9pc3RlZF8yID0gewogIGtleTogMCwKICBjbGFzczogIm1yLTUgbWItNSIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJncmV5IG1yLTUiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGtleTogMSwKICBjbGFzczogIm1yLTUgbWItNSIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJncmV5IG1yLTUiCn07CnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAibXItNSIKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJncmV5IG1yLTUiCn07CnZhciBfaG9pc3RlZF84ID0gewogIGNsYXNzOiAibXItNSIKfTsKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJncmV5IG1yLTUiCn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogImZsZXgtaCByb3ciCn07CnZhciBfaG9pc3RlZF8xMSA9IHsKICBjbGFzczogIm1yLTUiCn07CnZhciBfaG9pc3RlZF8xMiA9IHsKICBjbGFzczogIm1yLTUgZ3JleSIKfTsKdmFyIF9ob2lzdGVkXzEzID0gewogIGNsYXNzOiAibG9nLXRhZ3MiCn07CnZhciBfaG9pc3RlZF8xNCA9IFsib25DbGljayJdOwp2YXIgX2hvaXN0ZWRfMTUgPSB7CiAgY2xhc3M6ICJtci01Igp9Owp2YXIgX2hvaXN0ZWRfMTYgPSB7CiAgY2xhc3M6ICJncmV5IG1yLTUiCn07CnZhciBfaG9pc3RlZF8xNyA9IHsKICBjbGFzczogImxvZy10YWdzIgp9Owp2YXIgX2hvaXN0ZWRfMTggPSBbIm9uQ2xpY2siXTsKdmFyIF9ob2lzdGVkXzE5ID0gewogIGNsYXNzOiAiZmxleC1oIHJvdyBidG4tcm93Igp9OwppbXBvcnQgeyByZWYsIHJlYWN0aXZlLCB3YXRjaCwgb25Nb3VudGVkLCBvblVubW91bnRlZCB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICJ2dWUtaTE4biI7CmltcG9ydCB7IHVzZURlbWFuZExvZ1N0b3JlIH0gZnJvbSAiQC9zdG9yZS9tb2R1bGVzL2RlbWFuZC1sb2ciOwppbXBvcnQgeyB1c2VEYXNoYm9hcmRTdG9yZSB9IGZyb20gIkAvc3RvcmUvbW9kdWxlcy9kYXNoYm9hcmQiOwppbXBvcnQgeyB1c2VBcHBTdG9yZVdpdGhPdXQgfSBmcm9tICJAL3N0b3JlL21vZHVsZXMvYXBwIjsKaW1wb3J0IHsgdXNlU2VsZWN0b3JTdG9yZSB9IGZyb20gIkAvc3RvcmUvbW9kdWxlcy9zZWxlY3RvcnMiOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwppbXBvcnQgeyBFbnRpdHlUeXBlIH0gZnJvbSAiLi4vLi4vZGF0YSI7CmltcG9ydCB7IFRpbWVSYW5nZXMsIEludGVydmFsT3B0cyB9IGZyb20gIi4vZGF0YSI7CmltcG9ydCBnZXRMb2NhbFRpbWUgZnJvbSAiQC91dGlscy9sb2NhbHRpbWUiOwppbXBvcnQgZGF0ZUZvcm1hdFN0ZXAgZnJvbSAiQC91dGlscy9kYXRlRm9ybWF0IjsKZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL19kZWZpbmVDb21wb25lbnQoewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzKSB7CiAgICB2YXIgX3VzZUkxOG4gPSB1c2VJMThuKCksCiAgICAgICAgdCA9IF91c2VJMThuLnQ7CgogICAgdmFyIGFwcFN0b3JlID0gdXNlQXBwU3RvcmVXaXRoT3V0KCk7CiAgICB2YXIgc2VsZWN0b3JTdG9yZSA9IHVzZVNlbGVjdG9yU3RvcmUoKTsKICAgIHZhciBkYXNoYm9hcmRTdG9yZSA9IHVzZURhc2hib2FyZFN0b3JlKCk7CiAgICB2YXIgZGVtYW5kTG9nU3RvcmUgPSB1c2VEZW1hbmRMb2dTdG9yZSgpOwogICAgdmFyIGtleXdvcmRzT2ZDb250ZW50ID0gcmVmKFtdKTsKICAgIHZhciBleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudCA9IHJlZihbXSk7CiAgICB2YXIgY29udGVudFN0ciA9IHJlZigiIik7CiAgICB2YXIgZXhjbHVkaW5nQ29udGVudFN0ciA9IHJlZigiIik7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIGluc3RhbmNlOiB7CiAgICAgICAgdmFsdWU6ICIiLAogICAgICAgIGxhYmVsOiAiIgogICAgICB9LAogICAgICBjb250YWluZXI6IHsKICAgICAgICB2YWx1ZTogIiIsCiAgICAgICAgbGFiZWw6ICIiCiAgICAgIH0sCiAgICAgIGR1cmF0aW9uOiB7CiAgICAgICAgbGFiZWw6ICJGcm9tIDMwIG1pbnV0ZXMgYWdvIiwKICAgICAgICB2YWx1ZTogMTgwMAogICAgICB9LAogICAgICBpbnRlcnZhbDogewogICAgICAgIGxhYmVsOiAiMzAgc2Vjb25kcyIsCiAgICAgICAgdmFsdWU6IDMwCiAgICAgIH0KICAgIH0pOwogICAgdmFyIGRpc2FibGVkID0gcmVmKHRydWUpOwogICAgLypnbG9iYWwgTnVsbGFibGUgKi8KCiAgICB2YXIgaW50ZXJ2YWxGbiA9IHJlZihudWxsKTsKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGZldGNoU2VsZWN0b3JzKCk7CiAgICB9KTsKCiAgICBmdW5jdGlvbiBmZXRjaFNlbGVjdG9ycygpIHsKICAgICAgcmV0dXJuIF9mZXRjaFNlbGVjdG9ycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9mZXRjaFNlbGVjdG9ycygpIHsKICAgICAgX2ZldGNoU2VsZWN0b3JzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGRhc2hib2FyZFN0b3JlLmVudGl0eSAhPT0gRW50aXR5VHlwZVszXS52YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldEluc3RhbmNlcygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBnZXRDb250YWluZXJzKCk7CgogICAgICAgICAgICAgICAgaWYgKGludGVydmFsRm4udmFsdWUpIHsKICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lcigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX2ZldGNoU2VsZWN0b3JzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29udGFpbmVycygpIHsKICAgICAgcmV0dXJuIF9nZXRDb250YWluZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dldENvbnRhaW5lcnMoKSB7CiAgICAgIF9nZXRDb250YWluZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHN0YXRlLmluc3RhbmNlLmlkIHx8IHNlbGVjdG9yU3RvcmUuY3VycmVudFBvZCAmJiBzZWxlY3RvclN0b3JlLmN1cnJlbnRQb2QuaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBkZW1hbmRMb2dTdG9yZS5nZXRDb250YWluZXJzKHN0YXRlLmluc3RhbmNlLmlkIHx8IHNlbGVjdG9yU3RvcmUuY3VycmVudFBvZC5pZCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3AuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGlzYWJsZWQudmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlc3AuZXJyb3JzKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKCFyZXNwLmRhdGEuY29udGFpbmVycy5lcnJvclJlYXNvbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkaXNhYmxlZC52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBFbE1lc3NhZ2Uud2FybmluZyhyZXNwLmRhdGEuY29udGFpbmVycy5lcnJvclJlYXNvbik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBpZiAoZGVtYW5kTG9nU3RvcmUuY29udGFpbmVycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgc3RhdGUuY29udGFpbmVyID0gZGVtYW5kTG9nU3RvcmUuY29udGFpbmVyc1swXTsKICAgICAgICAgICAgICAgICAgZGlzYWJsZWQudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9nZXRDb250YWluZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0SW5zdGFuY2VzKCkgewogICAgICByZXR1cm4gX2dldEluc3RhbmNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nZXRJbnN0YW5jZXMoKSB7CiAgICAgIF9nZXRJbnN0YW5jZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVtYW5kTG9nU3RvcmUuZ2V0SW5zdGFuY2VzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3AuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlc3AuZXJyb3JzKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgc3RhdGUuaW5zdGFuY2UgPSBkZW1hbmRMb2dTdG9yZS5pbnN0YW5jZXNbMF07CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9nZXRJbnN0YW5jZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBydW5JbnRlcnZhbCgpIHsKICAgICAgaWYgKGludGVydmFsRm4udmFsdWUpIHsKICAgICAgICBjbGVhclRpbWVyKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzZWFyY2hMb2dzKCk7CgogICAgICBpZiAoc3RhdGUuaW50ZXJ2YWwudmFsdWUgPT09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGludGVydmFsRm4udmFsdWUgPSBzZXRJbnRlcnZhbChzZWFyY2hMb2dzLCBzdGF0ZS5pbnRlcnZhbC52YWx1ZSAqIDEwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVyKCk7CiAgICAgIH0sIHN0YXRlLmR1cmF0aW9uLnZhbHVlICogMTAwMCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2VhcmNoTG9ncygpIHsKICAgICAgdmFyIGluc3RhbmNlID0gIiI7CgogICAgICBpZiAoZGFzaGJvYXJkU3RvcmUuZW50aXR5ID09PSBFbnRpdHlUeXBlWzNdLnZhbHVlKSB7CiAgICAgICAgaW5zdGFuY2UgPSBzZWxlY3RvclN0b3JlLmN1cnJlbnRQb2QuaWQ7CiAgICAgIH0KCiAgICAgIHZhciBzZXJ2aWNlSW5zdGFuY2VJZCA9IGluc3RhbmNlIHx8IHN0YXRlLmluc3RhbmNlICYmIHN0YXRlLmluc3RhbmNlLmlkIHx8ICIiOwogICAgICBkZW1hbmRMb2dTdG9yZS5zZXRMb2dDb25kaXRpb24oewogICAgICAgIHNlcnZpY2VJbnN0YW5jZUlkOiBzZXJ2aWNlSW5zdGFuY2VJZCwKICAgICAgICBjb250YWluZXI6IHN0YXRlLmNvbnRhaW5lci52YWx1ZSwKICAgICAgICBkdXJhdGlvbjogcmFuZ2VUaW1lKCksCiAgICAgICAga2V5d29yZHNPZkNvbnRlbnQ6IGtleXdvcmRzT2ZDb250ZW50LnZhbHVlLmxlbmd0aCA/IGtleXdvcmRzT2ZDb250ZW50LnZhbHVlIDogdW5kZWZpbmVkLAogICAgICAgIGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50OiBleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudC52YWx1ZS5sZW5ndGggPyBleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudC52YWx1ZSA6IHVuZGVmaW5lZAogICAgICB9KTsKCiAgICAgIGlmICghc2VydmljZUluc3RhbmNlSWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHF1ZXJ5TG9ncygpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJhbmdlVGltZSgpIHsKICAgICAgewogICAgICAgIHZhciB0aW1lcyA9IHsKICAgICAgICAgIHN0YXJ0OiBnZXRMb2NhbFRpbWUoYXBwU3RvcmUudXRjLCBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXRlLmR1cmF0aW9uLnZhbHVlICogMTAwMCkpLAogICAgICAgICAgZW5kOiBnZXRMb2NhbFRpbWUoYXBwU3RvcmUudXRjLCBuZXcgRGF0ZSgpKSwKICAgICAgICAgIHN0ZXA6ICJTRUNPTkQiCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgc3RhcnQ6IGRhdGVGb3JtYXRTdGVwKHRpbWVzLnN0YXJ0LCB0aW1lcy5zdGVwLCBmYWxzZSksCiAgICAgICAgICBlbmQ6IGRhdGVGb3JtYXRTdGVwKHRpbWVzLmVuZCwgdGltZXMuc3RlcCwgZmFsc2UpLAogICAgICAgICAgc3RlcDogdGltZXMuc3RlcAogICAgICAgIH07CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeUxvZ3MoKSB7CiAgICAgIHJldHVybiBfcXVlcnlMb2dzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX3F1ZXJ5TG9ncygpIHsKICAgICAgX3F1ZXJ5TG9ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbWFuZExvZ1N0b3JlLmdldERlbWFuZExvZ3MoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihyZXMuZXJyb3JzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX3F1ZXJ5TG9ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZUZpZWxkKHR5cGUsIG9wdCkgewogICAgICBjbGVhclRpbWVyKCk7IC8vIGlmIChbImxpbWl0Il0uaW5jbHVkZXModHlwZSkpIHsKICAgICAgLy8gICBzdGF0ZVt0eXBlXSA9IG9wdDsKICAgICAgLy8gICByZXR1cm47CiAgICAgIC8vIH0KCiAgICAgIHN0YXRlW3R5cGVdID0gb3B0WzBdOwoKICAgICAgaWYgKHR5cGUgPT09ICJpbnN0YW5jZSIpIHsKICAgICAgICBnZXRDb250YWluZXJzKCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVDb250ZW50KGluZGV4KSB7CiAgICAgIHZhciBrZXl3b3Jkc09mQ29udGVudExpc3QgPSBrZXl3b3Jkc09mQ29udGVudC52YWx1ZSB8fCBbXTsKICAgICAga2V5d29yZHNPZkNvbnRlbnRMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIGRlbWFuZExvZ1N0b3JlLnNldExvZ0NvbmRpdGlvbih7CiAgICAgICAga2V5d29yZHNPZkNvbnRlbnQ6IGtleXdvcmRzT2ZDb250ZW50TGlzdAogICAgICB9KTsKICAgICAgY29udGVudFN0ci52YWx1ZSA9ICIiOwogICAgICBjbGVhclRpbWVyKCk7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkTGFiZWxzKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT09ICJrZXl3b3Jkc09mQ29udGVudCIgJiYgIWNvbnRlbnRTdHIudmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0eXBlID09PSAiZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQiICYmICFleGNsdWRpbmdDb250ZW50U3RyLnZhbHVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodHlwZSA9PT0gImtleXdvcmRzT2ZDb250ZW50IikgewogICAgICAgIGtleXdvcmRzT2ZDb250ZW50LnZhbHVlLnB1c2goY29udGVudFN0ci52YWx1ZSk7CiAgICAgICAgZGVtYW5kTG9nU3RvcmUuc2V0TG9nQ29uZGl0aW9uKF9kZWZpbmVQcm9wZXJ0eSh7fSwgdHlwZSwga2V5d29yZHNPZkNvbnRlbnQudmFsdWUpKTsKICAgICAgICBjb250ZW50U3RyLnZhbHVlID0gIiI7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50IikgewogICAgICAgIGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50LnZhbHVlLnB1c2goZXhjbHVkaW5nQ29udGVudFN0ci52YWx1ZSk7CiAgICAgICAgZGVtYW5kTG9nU3RvcmUuc2V0TG9nQ29uZGl0aW9uKF9kZWZpbmVQcm9wZXJ0eSh7fSwgdHlwZSwgZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQudmFsdWUpKTsKICAgICAgICBleGNsdWRpbmdDb250ZW50U3RyLnZhbHVlID0gIiI7CiAgICAgIH0KCiAgICAgIGNsZWFyVGltZXIoKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVFeGNsdWRlQ29udGVudChpbmRleCkgewogICAgICBleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudC52YWx1ZS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICBkZW1hbmRMb2dTdG9yZS5zZXRMb2dDb25kaXRpb24oewogICAgICAgIGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50OiBleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudC52YWx1ZQogICAgICB9KTsKICAgICAgZXhjbHVkaW5nQ29udGVudFN0ci52YWx1ZSA9ICIiOwogICAgICBjbGVhclRpbWVyKCk7CiAgICB9CgogICAgZnVuY3Rpb24gY2xlYXJUaW1lcigpIHsKICAgICAgaWYgKCFpbnRlcnZhbEZuLnZhbHVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjbGVhckludGVydmFsKGludGVydmFsRm4udmFsdWUpOwogICAgICBpbnRlcnZhbEZuLnZhbHVlID0gbnVsbDsKICAgIH0KCiAgICBvblVubW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGNsZWFyVGltZXIoKTsKICAgIH0pOwogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc2VsZWN0b3JTdG9yZS5jdXJyZW50U2VydmljZTsKICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGRhc2hib2FyZFN0b3JlLmVudGl0eSA9PT0gRW50aXR5VHlwZVswXS52YWx1ZSkgewogICAgICAgIGZldGNoU2VsZWN0b3JzKCk7CiAgICAgICAgZGVtYW5kTG9nU3RvcmUuc2V0TG9ncygiIik7CiAgICAgIH0KICAgIH0pOwogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW3NlbGVjdG9yU3RvcmUuY3VycmVudFBvZF07CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChkYXNoYm9hcmRTdG9yZS5lbnRpdHkgPT09IEVudGl0eVR5cGVbM10udmFsdWUpIHsKICAgICAgICBmZXRjaFNlbGVjdG9ycygpOwogICAgICAgIGRlbWFuZExvZ1N0b3JlLnNldExvZ3MoIiIpOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBmdW5jdGlvbiAoX2N0eCwgX2NhY2hlKSB7CiAgICAgIHZhciBfY29tcG9uZW50X1NlbGVjdG9yID0gX3Jlc29sdmVDb21wb25lbnQoIlNlbGVjdG9yIik7CgogICAgICB2YXIgX2NvbXBvbmVudF9lbF9pbnB1dCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1pbnB1dCIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfSWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJJY29uIik7CgogICAgICB2YXIgX2NvbXBvbmVudF9lbF9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYnV0dG9uIik7CgogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFtfdW5yZWYoZGFzaGJvYXJkU3RvcmUpLmVudGl0eSAhPT0gX3VucmVmKEVudGl0eVR5cGUpWzNdLnZhbHVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8zLCBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgiaW5zdGFuY2UiKSkgKyAiOiAiLCAxKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2VsZWN0b3IsIHsKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIHZhbHVlOiBfdW5yZWYoc3RhdGUpLmluc3RhbmNlLnZhbHVlLAogICAgICAgIG9wdGlvbnM6IF91bnJlZihkZW1hbmRMb2dTdG9yZSkuaW5zdGFuY2VzLAogICAgICAgIHBsYWNlaG9sZGVyOiAiU2VsZWN0IGEgaW5zdGFuY2UiLAogICAgICAgIG9uQ2hhbmdlOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBjaGFuZ2VGaWVsZCgnaW5zdGFuY2UnLCAkZXZlbnQpOwogICAgICAgIH0pLAogICAgICAgIGNsYXNzOiAic2VsZWN0b3JzIgogICAgICB9LCBudWxsLCA4LCBbInZhbHVlIiwgIm9wdGlvbnMiXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwgX3VucmVmKHN0YXRlKS5jb250YWluZXIgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzUsIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJjb250YWluZXIiKSkgKyAiOiIsIDEpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZWxlY3RvciwgewogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgdmFsdWU6IF91bnJlZihzdGF0ZSkuY29udGFpbmVyLnZhbHVlLAogICAgICAgIG9wdGlvbnM6IF91bnJlZihkZW1hbmRMb2dTdG9yZSkuY29udGFpbmVycywKICAgICAgICBwbGFjZWhvbGRlcjogIlNlbGVjdCBhIGNvbnRhaW5lciIsCiAgICAgICAgb25DaGFuZ2U6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGNoYW5nZUZpZWxkKCdjb250YWluZXInLCAkZXZlbnQpOwogICAgICAgIH0pLAogICAgICAgIGNsYXNzOiAic2VsZWN0b3JzIgogICAgICB9LCBudWxsLCA4LCBbInZhbHVlIiwgIm9wdGlvbnMiXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF83LCBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgiZHVyYXRpb24iKSkgKyAiOiIsIDEpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZWxlY3RvciwgewogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgdmFsdWU6IF91bnJlZihzdGF0ZSkuZHVyYXRpb24udmFsdWUsCiAgICAgICAgb3B0aW9uczogX3VucmVmKFRpbWVSYW5nZXMpLAogICAgICAgIHBsYWNlaG9sZGVyOiAiU2VsZWN0IGEgdGltZSByYW5nZSIsCiAgICAgICAgb25DaGFuZ2U6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGNoYW5nZUZpZWxkKCdkdXJhdGlvbicsICRldmVudCk7CiAgICAgICAgfSksCiAgICAgICAgY2xhc3M6ICJkdXJhdGlvbi1yYW5nZSIKICAgICAgfSwgbnVsbCwgOCwgWyJ2YWx1ZSIsICJvcHRpb25zIl0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfOSwgX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoImludGVydmFsIikpICsgIjoiLCAxKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2VsZWN0b3IsIHsKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIHZhbHVlOiBfdW5yZWYoc3RhdGUpLmludGVydmFsLnZhbHVlLAogICAgICAgIG9wdGlvbnM6IF91bnJlZihJbnRlcnZhbE9wdHMpLAogICAgICAgIG9uQ2hhbmdlOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBjaGFuZ2VGaWVsZCgnaW50ZXJ2YWwnLCAkZXZlbnQpOwogICAgICAgIH0pCiAgICAgIH0sIG51bGwsIDgsIFsidmFsdWUiLCAib3B0aW9ucyJdKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMTIsIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJrZXl3b3Jkc09mQ29udGVudCIpKSArICI6IiwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8xMywgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3Qoa2V5d29yZHNPZkNvbnRlbnQudmFsdWUsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCB7CiAgICAgICAgICBjbGFzczogInNlbGVjdGVkIiwKICAgICAgICAgIGtleTogImtleXdvcmRzT2ZDb250ZW50Ii5jb25jYXQoaW5kZXgpCiAgICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0pLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgICAgIGNsYXNzOiAicmVtb3ZlLWljb24iLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUNvbnRlbnQoaW5kZXgpOwogICAgICAgICAgfQogICAgICAgIH0sICLDlyIsIDgsIF9ob2lzdGVkXzE0KV0pOwogICAgICB9KSwgMTI4KSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIGNsYXNzOiAiaW5wdXRzLW1heCIsCiAgICAgICAgcGxhY2Vob2xkZXI6IF91bnJlZih0KSgnYWRkS2V5d29yZHNPZkNvbnRlbnQnKSwKICAgICAgICBtb2RlbFZhbHVlOiBjb250ZW50U3RyLnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gY29udGVudFN0ci52YWx1ZSA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBvbkNoYW5nZTogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gYWRkTGFiZWxzKCdrZXl3b3Jkc09mQ29udGVudCcpOwogICAgICAgIH0pCiAgICAgIH0sIG51bGwsIDgsIFsicGxhY2Vob2xkZXIiLCAibW9kZWxWYWx1ZSJdKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8xNiwgX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoImV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50IikpICsgIjogIiwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8xNywgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQudmFsdWUsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCB7CiAgICAgICAgICBjbGFzczogInNlbGVjdGVkIiwKICAgICAgICAgIGtleTogImV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50Ii5jb25jYXQoaW5kZXgpCiAgICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0pLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgICAgIGNsYXNzOiAicmVtb3ZlLWljb24iLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUV4Y2x1ZGVDb250ZW50KGluZGV4KTsKICAgICAgICAgIH0KICAgICAgICB9LCAiIMOXICIsIDgsIF9ob2lzdGVkXzE4KV0pOwogICAgICB9KSwgMTI4KSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICBjbGFzczogImlucHV0cy1tYXgiLAogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgcGxhY2Vob2xkZXI6IF91bnJlZih0KSgnYWRkRXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQnKSwKICAgICAgICBtb2RlbFZhbHVlOiBleGNsdWRpbmdDb250ZW50U3RyLnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gZXhjbHVkaW5nQ29udGVudFN0ci52YWx1ZSA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBvbkNoYW5nZTogX2NhY2hlWzddIHx8IChfY2FjaGVbN10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gYWRkTGFiZWxzKCdleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudCcpOwogICAgICAgIH0pCiAgICAgIH0sIG51bGwsIDgsIFsicGxhY2Vob2xkZXIiLCAibW9kZWxWYWx1ZSJdKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE5LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgY2xhc3M6ICJzZWFyY2gtYnRuIG10LTEwIiwKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICBvbkNsaWNrOiBydW5JbnRlcnZhbCwKICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQudmFsdWUKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgewogICAgICAgICAgICBzaXplOiAibWlkZGxlIiwKICAgICAgICAgICAgaWNvbk5hbWU6ICJyZXRyeSIsCiAgICAgICAgICAgIGxvYWRpbmc6ICEhaW50ZXJ2YWxGbi52YWx1ZSwKICAgICAgICAgICAgY2xhc3M6ICJtci01IgogICAgICAgICAgfSwgbnVsbCwgOCwgWyJsb2FkaW5nIl0pLCBfY3JlYXRlVGV4dFZOb2RlKCIgIiArIF90b0Rpc3BsYXlTdHJpbmcoaW50ZXJ2YWxGbi52YWx1ZSA/IF91bnJlZih0KSgicGF1c2UiKSA6IF91bnJlZih0KSgic3RhcnQiKSksIDEpXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0sIDgsIFsiZGlzYWJsZWQiXSldKV0sIDY0KTsKICAgIH07CiAgfQp9KTs="},null]}