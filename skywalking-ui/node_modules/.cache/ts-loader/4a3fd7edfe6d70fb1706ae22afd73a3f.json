{"remainingRequest":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js??ref--15-3!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/log/Header.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/log/Header.vue","mtime":1666468223596},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/babel.config.js","mtime":1666468223484},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1666468229208},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1666468239564},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1666468229004},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1666468239640},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1666468229208},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js","mtime":1666468249808}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9zazExNy9maW5hbC1wcm9qZWN0L2NvcHkvYXBhY2hlLXNreXdhbGtpbmctYXBtLTkuMi4wL3NreXdhbGtpbmctdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvY29weS9hcGFjaGUtc2t5d2Fsa2luZy1hcG0tOS4yLjAvc2t5d2Fsa2luZy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVucmVmIGFzIF91bnJlZiwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCB2U2hvdyBhcyBfdlNob3csIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTg3OGRjM2RjIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImZsZXgtaCByb3ciCn07CnZhciBfaG9pc3RlZF8yID0gewogIGtleTogMCwKICBjbGFzczogIm1yLTUiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiZ3JleSBtci01Igp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJtci01Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImdyZXkgbXItNSIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAga2V5OiAyLAogIGNsYXNzOiAibXItNSIKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJncmV5IG1yLTUiCn07CnZhciBfaG9pc3RlZF84ID0gewogIGtleTogMywKICBjbGFzczogIm1yLTUiCn07CnZhciBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAiZ3JleSBtci01Igp9Owp2YXIgX2hvaXN0ZWRfMTAgPSB7CiAgY2xhc3M6ICJmbGV4LWggcm93Igp9Owp2YXIgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJtci01IHRyYWNlSWQiCn07CnZhciBfaG9pc3RlZF8xMiA9IHsKICBjbGFzczogImdyZXkgbXItNSIKfTsKdmFyIF9ob2lzdGVkXzEzID0gewogIGNsYXNzOiAicm93IHRpcHMiCn07CnZhciBfaG9pc3RlZF8xNCA9IHsKICBjbGFzczogImZsZXgtaCIKfTsKdmFyIF9ob2lzdGVkXzE1ID0gewogIGNsYXNzOiAibXItNSIKfTsKdmFyIF9ob2lzdGVkXzE2ID0gewogIGNsYXNzOiAibXItNSBncmV5Igp9Owp2YXIgX2hvaXN0ZWRfMTcgPSB7CiAgY2xhc3M6ICJsb2ctdGFncyIKfTsKdmFyIF9ob2lzdGVkXzE4ID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF8xOSA9IHsKICBjbGFzczogIm1yLTUiCn07CnZhciBfaG9pc3RlZF8yMCA9IHsKICBjbGFzczogImdyZXkgbXItNSIKfTsKdmFyIF9ob2lzdGVkXzIxID0gewogIGNsYXNzOiAibG9nLXRhZ3MiCn07CnZhciBfaG9pc3RlZF8yMiA9IFsib25DbGljayJdOwp2YXIgX2hvaXN0ZWRfMjMgPSB7CiAgY2xhc3M6ICJsb2ctdGlwcyIKfTsKaW1wb3J0IHsgcmVmLCByZWFjdGl2ZSwgd2F0Y2gsIG9uVW5tb3VudGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gInZ1ZS1pMThuIjsKaW1wb3J0IHsgdXNlTG9nU3RvcmUgfSBmcm9tICJAL3N0b3JlL21vZHVsZXMvbG9nIjsKaW1wb3J0IHsgdXNlRGFzaGJvYXJkU3RvcmUgfSBmcm9tICJAL3N0b3JlL21vZHVsZXMvZGFzaGJvYXJkIjsKaW1wb3J0IHsgdXNlQXBwU3RvcmVXaXRoT3V0IH0gZnJvbSAiQC9zdG9yZS9tb2R1bGVzL2FwcCI7CmltcG9ydCB7IHVzZVNlbGVjdG9yU3RvcmUgfSBmcm9tICJAL3N0b3JlL21vZHVsZXMvc2VsZWN0b3JzIjsKaW1wb3J0IENvbmRpdGlvblRhZ3MgZnJvbSAiQC92aWV3cy9jb21wb25lbnRzL0NvbmRpdGlvblRhZ3MudnVlIjsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC1wbHVzIjsKaW1wb3J0IHsgRW50aXR5VHlwZSB9IGZyb20gIi4uLy4uL2RhdGEiOwppbXBvcnQgeyBFcnJvckNhdGVnb3J5IH0gZnJvbSAiLi9kYXRhIjsKLypnbG9iYWwgZGVmaW5lUHJvcHMsIFJlY29yZGFibGUgKi8KCmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9fZGVmaW5lQ29tcG9uZW50KHsKICBwcm9wczogewogICAgbmVlZFF1ZXJ5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGdyYXBoOiB7fQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzKSB7CiAgICB2YXIgcHJvcHMgPSBfX3Byb3BzOwoKICAgIHZhciBfdXNlSTE4biA9IHVzZUkxOG4oKSwKICAgICAgICB0ID0gX3VzZUkxOG4udDsKCiAgICB2YXIgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZVdpdGhPdXQoKTsKICAgIHZhciBzZWxlY3RvclN0b3JlID0gdXNlU2VsZWN0b3JTdG9yZSgpOwogICAgdmFyIGRhc2hib2FyZFN0b3JlID0gdXNlRGFzaGJvYXJkU3RvcmUoKTsKICAgIHZhciBsb2dTdG9yZSA9IHVzZUxvZ1N0b3JlKCk7CiAgICB2YXIgdHJhY2VJZCA9IHJlZihwcm9wcy5kYXRhLmZpbHRlcnMgJiYgcHJvcHMuZGF0YS5maWx0ZXJzLnRyYWNlSWQgfHwgIiIpOwogICAgdmFyIGR1cmF0aW9uID0gcmVmKHByb3BzLmRhdGEuZmlsdGVycyAmJiBwcm9wcy5kYXRhLmZpbHRlcnMuZHVyYXRpb24gfHwgYXBwU3RvcmUuZHVyYXRpb25UaW1lKTsKICAgIHZhciBrZXl3b3Jkc09mQ29udGVudCA9IHJlZihbXSk7CiAgICB2YXIgZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQgPSByZWYoW10pOwogICAgdmFyIHRhZ3NMaXN0ID0gcmVmKFtdKTsKICAgIHZhciB0YWdzTWFwID0gcmVmKFtdKTsKICAgIHZhciBjb250ZW50U3RyID0gcmVmKCIiKTsKICAgIHZhciBleGNsdWRpbmdDb250ZW50U3RyID0gcmVmKCIiKTsKICAgIHZhciBpc0Jyb3dzZXIgPSByZWYoZGFzaGJvYXJkU3RvcmUubGF5ZXJJZCA9PT0gIkJST1dTRVIiKTsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgaW5zdGFuY2U6IHsKICAgICAgICB2YWx1ZTogIjAiLAogICAgICAgIGxhYmVsOiAiQWxsIgogICAgICB9LAogICAgICBlbmRwb2ludDogewogICAgICAgIHZhbHVlOiAiMCIsCiAgICAgICAgbGFiZWw6ICJBbGwiCiAgICAgIH0sCiAgICAgIHNlcnZpY2U6IHsKICAgICAgICB2YWx1ZTogIiIsCiAgICAgICAgbGFiZWw6ICIiCiAgICAgIH0sCiAgICAgIGNhdGVnb3J5OiB7CiAgICAgICAgdmFsdWU6ICJBTEwiLAogICAgICAgIGxhYmVsOiAiQWxsIgogICAgICB9CiAgICB9KTsKCiAgICBpZiAocHJvcHMubmVlZFF1ZXJ5KSB7CiAgICAgIGluaXQoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0KCkgewogICAgICByZXR1cm4gX2luaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfaW5pdCgpIHsKICAgICAgX2luaXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9nU3RvcmUuZ2V0TG9nc0J5S2V5d29yZHMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwLmVycm9ycykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlc3AuZXJyb3JzKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlbGVjdG9ycygpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoTG9ncygpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgc3RhdGUuaW5zdGFuY2UgPSB7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiAiMCIsCiAgICAgICAgICAgICAgICAgIGxhYmVsOiAiQWxsIgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHN0YXRlLmVuZHBvaW50ID0gewogICAgICAgICAgICAgICAgICB2YWx1ZTogIjAiLAogICAgICAgICAgICAgICAgICBsYWJlbDogIkFsbCIKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX2luaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmZXRjaFNlbGVjdG9ycygpIHsKICAgICAgaWYgKGRhc2hib2FyZFN0b3JlLmVudGl0eSA9PT0gRW50aXR5VHlwZVsxXS52YWx1ZSkgewogICAgICAgIGdldFNlcnZpY2VzKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZGFzaGJvYXJkU3RvcmUuZW50aXR5ID09PSBFbnRpdHlUeXBlWzJdLnZhbHVlKSB7CiAgICAgICAgZ2V0SW5zdGFuY2VzKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZGFzaGJvYXJkU3RvcmUuZW50aXR5ID09PSBFbnRpdHlUeXBlWzNdLnZhbHVlKSB7CiAgICAgICAgZ2V0RW5kcG9pbnRzKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZGFzaGJvYXJkU3RvcmUuZW50aXR5ID09PSBFbnRpdHlUeXBlWzBdLnZhbHVlKSB7CiAgICAgICAgZ2V0SW5zdGFuY2VzKCk7CiAgICAgICAgZ2V0RW5kcG9pbnRzKCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTZXJ2aWNlcygpIHsKICAgICAgcmV0dXJuIF9nZXRTZXJ2aWNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nZXRTZXJ2aWNlcygpIHsKICAgICAgX2dldFNlcnZpY2VzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ1N0b3JlLmdldFNlcnZpY2VzKGRhc2hib2FyZFN0b3JlLmxheWVySWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwLmVycm9ycykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihyZXNwLmVycm9ycyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHN0YXRlLnNlcnZpY2UgPSBsb2dTdG9yZS5zZXJ2aWNlc1swXTsKICAgICAgICAgICAgICAgIGdldEluc3RhbmNlcyhzdGF0ZS5zZXJ2aWNlLmlkKTsKICAgICAgICAgICAgICAgIGdldEVuZHBvaW50cyhzdGF0ZS5zZXJ2aWNlLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX2dldFNlcnZpY2VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RW5kcG9pbnRzKF94KSB7CiAgICAgIHJldHVybiBfZ2V0RW5kcG9pbnRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dldEVuZHBvaW50cygpIHsKICAgICAgX2dldEVuZHBvaW50cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoaWQpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ1N0b3JlLmdldEVuZHBvaW50cyhpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3AuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlc3AuZXJyb3JzKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgc3RhdGUuZW5kcG9pbnQgPSBsb2dTdG9yZS5lbmRwb2ludHNbMF07CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9nZXRFbmRwb2ludHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRJbnN0YW5jZXMoX3gyKSB7CiAgICAgIHJldHVybiBfZ2V0SW5zdGFuY2VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dldEluc3RhbmNlcygpIHsKICAgICAgX2dldEluc3RhbmNlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoaWQpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ1N0b3JlLmdldEluc3RhbmNlcyhpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3AuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlc3AuZXJyb3JzKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgc3RhdGUuaW5zdGFuY2UgPSBsb2dTdG9yZS5pbnN0YW5jZXNbMF07CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9nZXRJbnN0YW5jZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZWFyY2hMb2dzKCkgewogICAgICB2YXIgZW5kcG9pbnQgPSAiIiwKICAgICAgICAgIGluc3RhbmNlID0gIiI7CgogICAgICBpZiAoZGFzaGJvYXJkU3RvcmUuZW50aXR5ID09PSBFbnRpdHlUeXBlWzJdLnZhbHVlKSB7CiAgICAgICAgZW5kcG9pbnQgPSBzZWxlY3RvclN0b3JlLmN1cnJlbnRQb2QuaWQ7CiAgICAgIH0KCiAgICAgIGlmIChkYXNoYm9hcmRTdG9yZS5lbnRpdHkgPT09IEVudGl0eVR5cGVbM10udmFsdWUpIHsKICAgICAgICBpbnN0YW5jZSA9IHNlbGVjdG9yU3RvcmUuY3VycmVudFBvZC5pZDsKICAgICAgfQoKICAgICAgaWYgKGRhc2hib2FyZFN0b3JlLmxheWVySWQgPT09ICJCUk9XU0VSIikgewogICAgICAgIGxvZ1N0b3JlLnNldExvZ0NvbmRpdGlvbih7CiAgICAgICAgICBzZXJ2aWNlSWQ6IHNlbGVjdG9yU3RvcmUuY3VycmVudFNlcnZpY2UgPyBzZWxlY3RvclN0b3JlLmN1cnJlbnRTZXJ2aWNlLmlkIDogc3RhdGUuc2VydmljZS5pZCwKICAgICAgICAgIHBhZ2VQYXRoSWQ6IGVuZHBvaW50IHx8IHN0YXRlLmVuZHBvaW50LmlkIHx8IHVuZGVmaW5lZCwKICAgICAgICAgIHNlcnZpY2VWZXJzaW9uSWQ6IGluc3RhbmNlIHx8IHN0YXRlLmluc3RhbmNlLmlkIHx8IHVuZGVmaW5lZCwKICAgICAgICAgIHBhZ2luZzogewogICAgICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgICAgICBwYWdlU2l6ZTogMTUKICAgICAgICAgIH0sCiAgICAgICAgICBxdWVyeUR1cmF0aW9uOiBkdXJhdGlvbiwKICAgICAgICAgIGNhdGVnb3J5OiBzdGF0ZS5jYXRlZ29yeS52YWx1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBzZWdtZW50SWQsIHNwYW5JZDsKCiAgICAgICAgaWYgKHByb3BzLmRhdGEuZmlsdGVycykgewogICAgICAgICAgc2VnbWVudElkID0gcHJvcHMuZGF0YS5maWx0ZXJzLnNlZ21lbnRJZDsKICAgICAgICAgIHNwYW5JZCA9IHByb3BzLmRhdGEuZmlsdGVycy5zcGFuSWQ7CiAgICAgICAgfQoKICAgICAgICBsb2dTdG9yZS5zZXRMb2dDb25kaXRpb24oewogICAgICAgICAgc2VydmljZUlkOiBzZWxlY3RvclN0b3JlLmN1cnJlbnRTZXJ2aWNlID8gc2VsZWN0b3JTdG9yZS5jdXJyZW50U2VydmljZS5pZCA6IHN0YXRlLnNlcnZpY2UuaWQsCiAgICAgICAgICBlbmRwb2ludElkOiBlbmRwb2ludCB8fCBzdGF0ZS5lbmRwb2ludC5pZCB8fCB1bmRlZmluZWQsCiAgICAgICAgICBzZXJ2aWNlSW5zdGFuY2VJZDogaW5zdGFuY2UgfHwgc3RhdGUuaW5zdGFuY2UuaWQgfHwgdW5kZWZpbmVkLAogICAgICAgICAgcXVlcnlEdXJhdGlvbjogZHVyYXRpb24udmFsdWUsCiAgICAgICAgICBrZXl3b3Jkc09mQ29udGVudDoga2V5d29yZHNPZkNvbnRlbnQudmFsdWUsCiAgICAgICAgICBleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudDogZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQudmFsdWUsCiAgICAgICAgICB0YWdzOiB0YWdzTWFwLnZhbHVlLmxlbmd0aCA/IHRhZ3NNYXAudmFsdWUgOiB1bmRlZmluZWQsCiAgICAgICAgICBwYWdpbmc6IHsKICAgICAgICAgICAgcGFnZU51bTogMSwKICAgICAgICAgICAgcGFnZVNpemU6IDE1CiAgICAgICAgICB9LAogICAgICAgICAgcmVsYXRlZFRyYWNlOiB0cmFjZUlkLnZhbHVlID8gewogICAgICAgICAgICB0cmFjZUlkOiB0cmFjZUlkLnZhbHVlLAogICAgICAgICAgICBzZWdtZW50SWQ6IHNlZ21lbnRJZCwKICAgICAgICAgICAgc3BhbklkOiBzcGFuSWQKICAgICAgICAgIH0gOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcXVlcnlMb2dzKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcXVlcnlMb2dzKCkgewogICAgICByZXR1cm4gX3F1ZXJ5TG9ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9xdWVyeUxvZ3MoKSB7CiAgICAgIF9xdWVyeUxvZ3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dTdG9yZS5nZXRMb2dzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmVycm9ycykgewogICAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IocmVzLmVycm9ycyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9xdWVyeUxvZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGFuZ2VGaWVsZCh0eXBlLCBvcHQpIHsKICAgICAgc3RhdGVbdHlwZV0gPSBvcHRbMF07CgogICAgICBpZiAodHlwZSA9PT0gInNlcnZpY2UiKSB7CiAgICAgICAgZ2V0RW5kcG9pbnRzKHN0YXRlLnNlcnZpY2UuaWQpOwogICAgICAgIGdldEluc3RhbmNlcyhzdGF0ZS5zZXJ2aWNlLmlkKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHNlYXJjaEVuZHBvaW50cyhfeDMpIHsKICAgICAgcmV0dXJuIF9zZWFyY2hFbmRwb2ludHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfc2VhcmNoRW5kcG9pbnRzKCkgewogICAgICBfc2VhcmNoRW5kcG9pbnRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihrZXl3b3JkKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dTdG9yZS5nZXRFbmRwb2ludHMoc3RhdGUuc2VydmljZS5pZCwga2V5d29yZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcC5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlc3AuZXJyb3JzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX3NlYXJjaEVuZHBvaW50cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVRhZ3MoZGF0YSkgewogICAgICB0YWdzTGlzdC52YWx1ZSA9IGRhdGEudGFnc0xpc3Q7CiAgICAgIHRhZ3NNYXAudmFsdWUgPSBkYXRhLnRhZ3NNYXA7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlQ29udGVudChpbmRleCkgewogICAgICB2YXIga2V5d29yZHNPZkNvbnRlbnRMaXN0ID0ga2V5d29yZHNPZkNvbnRlbnQudmFsdWUgfHwgW107CiAgICAgIGtleXdvcmRzT2ZDb250ZW50TGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICBsb2dTdG9yZS5zZXRMb2dDb25kaXRpb24oewogICAgICAgIGtleXdvcmRzT2ZDb250ZW50OiBrZXl3b3Jkc09mQ29udGVudExpc3QKICAgICAgfSk7CiAgICAgIGNvbnRlbnRTdHIudmFsdWUgPSAiIjsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRMYWJlbHModHlwZSkgewogICAgICBpZiAodHlwZSA9PT0gImtleXdvcmRzT2ZDb250ZW50IiAmJiAhY29udGVudFN0ci52YWx1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHR5cGUgPT09ICJleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudCIgJiYgIWV4Y2x1ZGluZ0NvbnRlbnRTdHIudmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0eXBlID09PSAia2V5d29yZHNPZkNvbnRlbnQiKSB7CiAgICAgICAga2V5d29yZHNPZkNvbnRlbnQudmFsdWUucHVzaChjb250ZW50U3RyLnZhbHVlKTsKICAgICAgICBsb2dTdG9yZS5zZXRMb2dDb25kaXRpb24oX2RlZmluZVByb3BlcnR5KHt9LCB0eXBlLCBrZXl3b3Jkc09mQ29udGVudC52YWx1ZSkpOwogICAgICAgIGNvbnRlbnRTdHIudmFsdWUgPSAiIjsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQiKSB7CiAgICAgICAgZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQudmFsdWUucHVzaChleGNsdWRpbmdDb250ZW50U3RyLnZhbHVlKTsKICAgICAgICBsb2dTdG9yZS5zZXRMb2dDb25kaXRpb24oX2RlZmluZVByb3BlcnR5KHt9LCB0eXBlLCBleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudC52YWx1ZSkpOwogICAgICAgIGV4Y2x1ZGluZ0NvbnRlbnRTdHIudmFsdWUgPSAiIjsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUV4Y2x1ZGVDb250ZW50KGluZGV4KSB7CiAgICAgIGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50LnZhbHVlLnNwbGljZShpbmRleCwgMSk7CiAgICAgIGxvZ1N0b3JlLnNldExvZ0NvbmRpdGlvbih7CiAgICAgICAgZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQ6IGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50LnZhbHVlCiAgICAgIH0pOwogICAgICBleGNsdWRpbmdDb250ZW50U3RyLnZhbHVlID0gIiI7CiAgICB9CgogICAgb25Vbm1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBsb2dTdG9yZS5yZXNldFN0YXRlKCk7CiAgICB9KTsKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHNlbGVjdG9yU3RvcmUuY3VycmVudFNlcnZpY2U7CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChkYXNoYm9hcmRTdG9yZS5lbnRpdHkgPT09IEVudGl0eVR5cGVbMF0udmFsdWUpIHsKICAgICAgICBpbml0KCk7CiAgICAgIH0KICAgIH0pOwogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW3NlbGVjdG9yU3RvcmUuY3VycmVudFBvZF07CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChkYXNoYm9hcmRTdG9yZS5lbnRpdHkgPT09IEVudGl0eVR5cGVbMF0udmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGluaXQoKTsKICAgIH0pOwogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gYXBwU3RvcmUuZHVyYXRpb25UaW1lOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoZGFzaGJvYXJkU3RvcmUuZW50aXR5ID09PSBFbnRpdHlUeXBlWzFdLnZhbHVlKSB7CiAgICAgICAgaW5pdCgpOwogICAgICB9CiAgICB9KTsKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLmRhdGEuZmlsdGVyczsKICAgIH0sIGZ1bmN0aW9uIChuZXdKc29uLCBvbGRKc29uKSB7CiAgICAgIGlmIChwcm9wcy5kYXRhLmZpbHRlcnMpIHsKICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkobmV3SnNvbikgPT09IEpTT04uc3RyaW5naWZ5KG9sZEpzb24pKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0cmFjZUlkLnZhbHVlID0gcHJvcHMuZGF0YS5maWx0ZXJzLnRyYWNlSWQgfHwgIiI7CiAgICAgICAgZHVyYXRpb24udmFsdWUgPSBwcm9wcy5kYXRhLmZpbHRlcnMuZHVyYXRpb24gfHwgYXBwU3RvcmUuZHVyYXRpb25UaW1lOwogICAgICAgIGluaXQoKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSkgewogICAgICB2YXIgX2NvbXBvbmVudF9TZWxlY3RvciA9IF9yZXNvbHZlQ29tcG9uZW50KCJTZWxlY3RvciIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWJ1dHRvbiIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfaW5wdXQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtaW5wdXQiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X0ljb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiSWNvbiIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfdG9vbHRpcCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10b29sdGlwIik7CgogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFtfdW5yZWYoZGFzaGJvYXJkU3RvcmUpLmVudGl0eSA9PT0gX3VucmVmKEVudGl0eVR5cGUpWzFdLnZhbHVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8zLCBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgic2VydmljZSIpKSArICI6IiwgMSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X1NlbGVjdG9yLCB7CiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICB2YWx1ZTogX3VucmVmKHN0YXRlKS5zZXJ2aWNlLnZhbHVlLAogICAgICAgIG9wdGlvbnM6IF91bnJlZihsb2dTdG9yZSkuc2VydmljZXMsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJTZWxlY3QgYSBzZXJ2aWNlIiwKICAgICAgICBvbkNoYW5nZTogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gY2hhbmdlRmllbGQoJ3NlcnZpY2UnLCAkZXZlbnQpOwogICAgICAgIH0pCiAgICAgIH0sIG51bGwsIDgsIFsidmFsdWUiLCAib3B0aW9ucyJdKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBfdW5yZWYoZGFzaGJvYXJkU3RvcmUpLmVudGl0eSAhPT0gX3VucmVmKEVudGl0eVR5cGUpWzNdLnZhbHVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKGlzQnJvd3Nlci52YWx1ZSA/IF91bnJlZih0KSgidmVyc2lvbiIpIDogX3VucmVmKHQpKCJpbnN0YW5jZSIpKSArICI6ICIsIDEpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZWxlY3RvciwgewogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgdmFsdWU6IF91bnJlZihzdGF0ZSkuaW5zdGFuY2UudmFsdWUsCiAgICAgICAgb3B0aW9uczogX3VucmVmKGxvZ1N0b3JlKS5pbnN0YW5jZXMsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJTZWxlY3QgYSBpbnN0YW5jZSIsCiAgICAgICAgb25DaGFuZ2U6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGNoYW5nZUZpZWxkKCdpbnN0YW5jZScsICRldmVudCk7CiAgICAgICAgfSkKICAgICAgfSwgbnVsbCwgOCwgWyJ2YWx1ZSIsICJvcHRpb25zIl0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIF91bnJlZihkYXNoYm9hcmRTdG9yZSkuZW50aXR5ICE9PSBfdW5yZWYoRW50aXR5VHlwZSlbMl0udmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzcsIF90b0Rpc3BsYXlTdHJpbmcoaXNCcm93c2VyLnZhbHVlID8gX3VucmVmKHQpKCJwYWdlIikgOiBfdW5yZWYodCkoImVuZHBvaW50IikpICsgIjogIiwgMSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X1NlbGVjdG9yLCB7CiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICB2YWx1ZTogX3VucmVmKHN0YXRlKS5lbmRwb2ludC52YWx1ZSwKICAgICAgICBvcHRpb25zOiBfdW5yZWYobG9nU3RvcmUpLmVuZHBvaW50cywKICAgICAgICBwbGFjZWhvbGRlcjogIlNlbGVjdCBhIGVuZHBvaW50IiwKICAgICAgICBvbkNoYW5nZTogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gY2hhbmdlRmllbGQoJ2VuZHBvaW50JywgJGV2ZW50KTsKICAgICAgICB9KSwKICAgICAgICBpc1JlbW90ZTogdHJ1ZSwKICAgICAgICBvblF1ZXJ5OiBzZWFyY2hFbmRwb2ludHMKICAgICAgfSwgbnVsbCwgOCwgWyJ2YWx1ZSIsICJvcHRpb25zIl0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIGlzQnJvd3Nlci52YWx1ZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzgsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfOSwgX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoImNhdGVnb3J5IikpICsgIjogIiwgMSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X1NlbGVjdG9yLCB7CiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICB2YWx1ZTogX3VucmVmKHN0YXRlKS5jYXRlZ29yeS52YWx1ZSwKICAgICAgICBvcHRpb25zOiBfdW5yZWYoRXJyb3JDYXRlZ29yeSksCiAgICAgICAgcGxhY2Vob2xkZXI6ICJTZWxlY3QgYSBjYXRlZ29yeSIsCiAgICAgICAgb25DaGFuZ2U6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGNoYW5nZUZpZWxkKCdjYXRlZ29yeScsICRldmVudCk7CiAgICAgICAgfSkKICAgICAgfSwgbnVsbCwgOCwgWyJ2YWx1ZSIsICJvcHRpb25zIl0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgIGNsYXNzOiAic2VhcmNoLWJ0biIsCiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgb25DbGljazogc2VhcmNoTG9ncwogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJzZWFyY2giKSksIDEpXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0pXSksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzExLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzEyLCBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgidHJhY2VJRCIpKSArICI6IiwgMSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgbW9kZWxWYWx1ZTogdHJhY2VJZC52YWx1ZSwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIHRyYWNlSWQudmFsdWUgPSAkZXZlbnQ7CiAgICAgICAgfSksCiAgICAgICAgY2xhc3M6ICJpbnB1dHMtbWF4IiwKICAgICAgICBzaXplOiAic21hbGwiCiAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKV0pLCBfY3JlYXRlVk5vZGUoQ29uZGl0aW9uVGFncywgewogICAgICAgIHR5cGU6ICdMT0cnLAogICAgICAgIG9uVXBkYXRlOiB1cGRhdGVUYWdzCiAgICAgIH0pXSwgNTEyKSwgW1tfdlNob3csICFpc0Jyb3dzZXIudmFsdWVdXSksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImIiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgiY29uZGl0aW9uTm90aWNlIikpLCAxKV0sIDUxMiksIFtbX3ZTaG93LCAhaXNCcm93c2VyLnZhbHVlXV0pLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTQsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTUsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMTYsIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJrZXl3b3Jkc09mQ29udGVudCIpKSArICI6IiwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8xNywgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3Qoa2V5d29yZHNPZkNvbnRlbnQudmFsdWUsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCB7CiAgICAgICAgICBjbGFzczogInNlbGVjdGVkIiwKICAgICAgICAgIGtleTogImtleXdvcmRzT2ZDb250ZW50Ii5jb25jYXQoaW5kZXgpCiAgICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0pLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgICAgIGNsYXNzOiAicmVtb3ZlLWljb24iLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUNvbnRlbnQoaW5kZXgpOwogICAgICAgICAgfQogICAgICAgIH0sICLDlyIsIDgsIF9ob2lzdGVkXzE4KV0pOwogICAgICB9KSwgMTI4KSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIGNsYXNzOiAiaW5wdXRzLW1heCIsCiAgICAgICAgcGxhY2Vob2xkZXI6IF91bnJlZih0KSgnYWRkS2V5d29yZHNPZkNvbnRlbnQnKSwKICAgICAgICBtb2RlbFZhbHVlOiBjb250ZW50U3RyLnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gY29udGVudFN0ci52YWx1ZSA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBvbkNoYW5nZTogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gYWRkTGFiZWxzKCdrZXl3b3Jkc09mQ29udGVudCcpOwogICAgICAgIH0pCiAgICAgIH0sIG51bGwsIDgsIFsicGxhY2Vob2xkZXIiLCAibW9kZWxWYWx1ZSJdKV0sIDUxMiksIFtbX3ZTaG93LCBfdW5yZWYobG9nU3RvcmUpLnN1cHBvcnRRdWVyeUxvZ3NCeUtleXdvcmRzXV0pLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTksIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMjAsIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudCIpKSArICI6ICIsIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMjEsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50LnZhbHVlLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgewogICAgICAgICAgY2xhc3M6ICJzZWxlY3RlZCIsCiAgICAgICAgICBrZXk6ICJleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudCIuY29uY2F0KGluZGV4KQogICAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgICAgICBjbGFzczogInJlbW92ZS1pY29uIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgICAgIHJldHVybiByZW1vdmVFeGNsdWRlQ29udGVudChpbmRleCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgIiDDlyAiLCA4LCBfaG9pc3RlZF8yMildKTsKICAgICAgfSksIDEyOCkpXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgY2xhc3M6ICJpbnB1dHMtbWF4IiwKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIHBsYWNlaG9sZGVyOiBfdW5yZWYodCkoJ2FkZEV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50JyksCiAgICAgICAgbW9kZWxWYWx1ZTogZXhjbHVkaW5nQ29udGVudFN0ci52YWx1ZSwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs3XSB8fCAoX2NhY2hlWzddID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGV4Y2x1ZGluZ0NvbnRlbnRTdHIudmFsdWUgPSAkZXZlbnQ7CiAgICAgICAgfSksCiAgICAgICAgb25DaGFuZ2U6IF9jYWNoZVs4XSB8fCAoX2NhY2hlWzhdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGFkZExhYmVscygnZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQnKTsKICAgICAgICB9KQogICAgICB9LCBudWxsLCA4LCBbInBsYWNlaG9sZGVyIiwgIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3Rvb2x0aXAsIHsKICAgICAgICBjb250ZW50OiBfdW5yZWYodCkoJ2tleXdvcmRzT2ZDb250ZW50TG9nVGlwcycpCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMjMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7CiAgICAgICAgICAgIGljb246ICJoZWxwIiwKICAgICAgICAgICAgY2xhc3M6ICJtci01IgogICAgICAgICAgfSldLCA1MTIpLCBbW192U2hvdywgIV91bnJlZihsb2dTdG9yZSkuc3VwcG9ydFF1ZXJ5TG9nc0J5S2V5d29yZHNdXSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSwgOCwgWyJjb250ZW50Il0pXSwgNTEyKSwgW1tfdlNob3csIF91bnJlZihsb2dTdG9yZSkuc3VwcG9ydFF1ZXJ5TG9nc0J5S2V5d29yZHNdXSldLCA1MTIpLCBbW192U2hvdywgIWlzQnJvd3Nlci52YWx1ZV1dKV0sIDY0KTsKICAgIH07CiAgfQp9KTs="},null]}