{"remainingRequest":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js??ref--15-3!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/List.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/List.vue","mtime":1666468223624},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/babel.config.js","mtime":1666468223484},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1666468229208},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1666468239564},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1666468229004},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1666468239640},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1666468229208},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js","mtime":1666468249808}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvc2sxMTcvZmluYWwtcHJvamVjdC9jb3B5L2FwYWNoZS1za3l3YWxraW5nLWFwbS05LjIuMC9za3l3YWxraW5nLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvc2sxMTcvZmluYWwtcHJvamVjdC9jb3B5L2FwYWNoZS1za3l3YWxraW5nLWFwbS05LjIuMC9za3l3YWxraW5nLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YuanMiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL2hvbWUvc2sxMTcvZmluYWwtcHJvamVjdC9jb3B5L2FwYWNoZS1za3l3YWxraW5nLWFwbS05LjIuMC9za3l3YWxraW5nLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvY29weS9hcGFjaGUtc2t5d2Fsa2luZy1hcG0tOS4yLjAvc2t5d2Fsa2luZy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmRvdC1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuc3RpY2t5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCB1bnJlZiBhcyBfdW5yZWYsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZXNvbHZlRGlyZWN0aXZlIGFzIF9yZXNvbHZlRGlyZWN0aXZlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTQ4YjQ4NTI4IiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImRhc2hib2FyZC1saXN0Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImZsZXgtaCBoZWFkZXIiLAogIHN0eWxlOiB7CiAgICAibWFyZ2luIjogIjEwcHggMCIKICB9Cn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAidGFibGUiCn07CnZhciBfaG9pc3RlZF80ID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAidG9nZ2xlLXNlbGVjdGlvbiIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgZm9yOiAiZGFzaGJvYXJkLWZpbGUiLAogIGNsYXNzOiAiaW5wdXQtbGFiZWwiCn07CmltcG9ydCB7IHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICJ2dWUtaTE4biI7CmltcG9ydCB7IEVsTWVzc2FnZUJveCwgRWxNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC1wbHVzIjsKaW1wb3J0IHsgdXNlQXBwU3RvcmVXaXRoT3V0IH0gZnJvbSAiQC9zdG9yZS9tb2R1bGVzL2FwcCI7CmltcG9ydCB7IHVzZURhc2hib2FyZFN0b3JlIH0gZnJvbSAiQC9zdG9yZS9tb2R1bGVzL2Rhc2hib2FyZCI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgeyBzYXZlRmlsZSwgcmVhZEZpbGUgfSBmcm9tICJAL3V0aWxzL2ZpbGUiOwppbXBvcnQgeyBFbnRpdHlUeXBlIH0gZnJvbSAiLi9kYXRhIjsKaW1wb3J0IHsgaXNFbXB0eU9iamVjdCB9IGZyb20gIkAvdXRpbHMvaXMiOwovKmdsb2JhbCBOdWxsYWJsZSovCgpleHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovX2RlZmluZUNvbXBvbmVudCh7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMpIHsKICAgIHZhciBfdXNlSTE4biA9IHVzZUkxOG4oKSwKICAgICAgICB0ID0gX3VzZUkxOG4udDsKCiAgICB2YXIgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZVdpdGhPdXQoKTsKICAgIHZhciBkYXNoYm9hcmRTdG9yZSA9IHVzZURhc2hib2FyZFN0b3JlKCk7CiAgICB2YXIgcGFnZVNpemUgPSAxODsKICAgIHZhciBkYXNoYm9hcmRzID0gcmVmKFtdKTsKICAgIHZhciBzZWFyY2hUZXh0ID0gcmVmKCIiKTsKICAgIHZhciBsb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIHZhciBjdXJyZW50UGFnZSA9IHJlZigxKTsKICAgIHZhciB0b3RhbCA9IHJlZigwKTsKICAgIHZhciBtdWx0aXBsZVRhYmxlUmVmID0gcmVmKCk7CiAgICB2YXIgbXVsdGlwbGVTZWxlY3Rpb24gPSByZWYoW10pOwogICAgdmFyIGRhc2hib2FyZEZpbGUgPSByZWYobnVsbCk7CiAgICBhcHBTdG9yZS5zZXRQYWdlVGl0bGUoIkRhc2hib2FyZCBMaXN0Iik7CgogICAgdmFyIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgbXVsdGlwbGVTZWxlY3Rpb24udmFsdWUgPSB2YWw7CiAgICB9OwoKICAgIHNldExpc3QoKTsKCiAgICBmdW5jdGlvbiBzZXRMaXN0KCkgewogICAgICByZXR1cm4gX3NldExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfc2V0TGlzdCgpIHsKICAgICAgX3NldExpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGFzaGJvYXJkU3RvcmUuc2V0RGFzaGJvYXJkcygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBzZWFyY2hEYXNoYm9hcmRzKDEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX3NldExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbXBvcnRUZW1wbGF0ZXMoX3gpIHsKICAgICAgcmV0dXJuIF9pbXBvcnRUZW1wbGF0ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfaW1wb3J0VGVtcGxhdGVzKCkgewogICAgICBfaW1wb3J0VGVtcGxhdGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihldmVudCkgewogICAgICAgIHZhciBhcnIsIF9pdGVyYXRvcjQsIF9zdGVwNCwgX2xvb3AyLCBfcmV0LCBfaXRlcmF0b3I1LCBfc3RlcDUsIF9sb29wMzsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiByZWFkRmlsZShldmVudCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGFyciA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFycik7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDQ7CgogICAgICAgICAgICAgICAgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKCkgewogICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgICAgICAgICAgdmFyIF9pdGVtJGNvbmZpZ3VyYXRpb24gPSBpdGVtLmNvbmZpZ3VyYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICBsYXllciA9IF9pdGVtJGNvbmZpZ3VyYXRpb24ubGF5ZXIsCiAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gX2l0ZW0kY29uZmlndXJhdGlvbi5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgZW50aXR5ID0gX2l0ZW0kY29uZmlndXJhdGlvbi5lbnRpdHk7CiAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGRhc2hib2FyZFN0b3JlLmRhc2hib2FyZHMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gbmFtZSAmJiBkLmVudGl0eSA9PT0gZW50aXR5ICYmIGQubGF5ZXIgPT09IGxheWVyICYmICFpdGVtLmlkOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgIHY6IEVsTWVzc2FnZS5lcnJvcih0KCJuYW1lRXJyb3IiKSkKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucygpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9yZXQgPSBfbG9vcDIoKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfdHlwZW9mKF9yZXQpID09PSAib2JqZWN0IikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9yZXQudik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oNCk7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE4OwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuZmluaXNoKDE4KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFycik7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDIzOwogICAgICAgICAgICAgICAgX2xvb3AzID0gLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9sb29wMygpIHsKICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0sIF9pdGVtJGNvbmZpZ3VyYXRpb24yLCBsYXllciwgbmFtZSwgZW50aXR5LCBpc1Jvb3QsIGNoaWxkcmVuLCBpbmRleCwgcDsKCiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfbG9vcDMkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBfc3RlcDUudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZW0kY29uZmlndXJhdGlvbjIgPSBpdGVtLmNvbmZpZ3VyYXRpb24sIGxheWVyID0gX2l0ZW0kY29uZmlndXJhdGlvbjIubGF5ZXIsIG5hbWUgPSBfaXRlbSRjb25maWd1cmF0aW9uMi5uYW1lLCBlbnRpdHkgPSBfaXRlbSRjb25maWd1cmF0aW9uMi5lbnRpdHksIGlzUm9vdCA9IF9pdGVtJGNvbmZpZ3VyYXRpb24yLmlzUm9vdCwgY2hpbGRyZW4gPSBfaXRlbSRjb25maWd1cmF0aW9uMi5jaGlsZHJlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGRhc2hib2FyZFN0b3JlLmRhc2hib2FyZHMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5pZCA9PT0gaXRlbS5pZDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZS5zcGxpdCgiICIpLmpvaW4oIi0iKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBsYXllciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eTogZW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSb290OiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmlkID0gaXRlbS5pZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuaXNSb290ID0gaXNSb290OwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGFzaGJvYXJkU3RvcmUuc2V0Q3VycmVudERhc2hib2FyZChwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBkYXNoYm9hcmRTdG9yZS5zZXRMYXlvdXQoY2hpbGRyZW4pOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGFzaGJvYXJkU3RvcmUuc2F2ZURhc2hib2FyZCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2xvb3AzKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUucygpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgaWYgKChfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmRlbGVnYXRlWWllbGQoX2xvb3AzKCksICJ0MSIsIDI4KTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDIgPSBfY29udGV4dDNbImNhdGNoIl0oMjMpOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUuZShfY29udGV4dDMudDIpOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzNTsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCgzNSk7CgogICAgICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgICAgICBkYXNoYm9hcmRzLnZhbHVlID0gZGFzaGJvYXJkU3RvcmUuZGFzaGJvYXJkczsKICAgICAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGRhc2hib2FyZEZpbGUudmFsdWUgPSBudWxsOwoKICAgICAgICAgICAgICBjYXNlIDQxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzQsIDE1LCAxOCwgMjFdLCBbMjMsIDMyLCAzNSwgMzhdXSk7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9pbXBvcnRUZW1wbGF0ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBleHBvcnRUZW1wbGF0ZXMoKSB7CiAgICAgIGlmICghbXVsdGlwbGVTZWxlY3Rpb24udmFsdWUubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgYXJyID0gbXVsdGlwbGVTZWxlY3Rpb24udmFsdWUuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpOwogICAgICB9KTsKICAgICAgdmFyIHRlbXBsYXRlcyA9IGFyci5tYXAoZnVuY3Rpb24gKGQpIHsKICAgICAgICB2YXIga2V5ID0gW2QubGF5ZXIsIGQuZW50aXR5LCBkLm5hbWVdLmpvaW4oIl8iKTsKICAgICAgICB2YXIgbGF5b3V0ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSkgfHwgInt9Iik7CiAgICAgICAgcmV0dXJuIGxheW91dDsKICAgICAgfSk7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGVtcGxhdGVzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIG9wdGltaXplVGVtcGxhdGUoaXRlbS5jb25maWd1cmF0aW9uLmNoaWxkcmVuKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgdmFyIG5hbWUgPSAiZGFzaGJvYXJkcy5qc29uIjsKICAgICAgc2F2ZUZpbGUodGVtcGxhdGVzLCBuYW1lKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgbXVsdGlwbGVUYWJsZVJlZi52YWx1ZS5jbGVhclNlbGVjdGlvbigpOwogICAgICB9LCAyMDAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvcHRpbWl6ZVRlbXBsYXRlKGNoaWxkcmVuKSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hpbGRyZW4gfHwgW10pLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHsKICAgICAgICAgIHZhciBjaGlsZCA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIGRlbGV0ZSBjaGlsZC5tb3ZlZDsKICAgICAgICAgIGRlbGV0ZSBjaGlsZC5hY3RpdmVkVGFiSW5kZXg7CiAgICAgICAgICBkZWxldGUgY2hpbGQuc3RhbmRhcmQ7CiAgICAgICAgICBkZWxldGUgY2hpbGQuaWQ7CiAgICAgICAgICBkZWxldGUgY2hpbGQubGFiZWw7CiAgICAgICAgICBkZWxldGUgY2hpbGQudmFsdWU7CgogICAgICAgICAgaWYgKGlzRW1wdHlPYmplY3QoY2hpbGQuZ3JhcGgpKSB7CiAgICAgICAgICAgIGRlbGV0ZSBjaGlsZC5ncmFwaDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY2hpbGQud2lkZ2V0KSB7CiAgICAgICAgICAgIGlmIChjaGlsZC53aWRnZXQudGl0bGUgPT09ICIiKSB7CiAgICAgICAgICAgICAgZGVsZXRlIGNoaWxkLndpZGdldC50aXRsZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGNoaWxkLndpZGdldC50aXBzID09PSAiIikgewogICAgICAgICAgICAgIGRlbGV0ZSBjaGlsZC53aWRnZXQudGlwczsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpc0VtcHR5T2JqZWN0KGNoaWxkLndpZGdldCkpIHsKICAgICAgICAgICAgZGVsZXRlIGNoaWxkLndpZGdldDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIShjaGlsZC5tZXRyaWNzICYmIGNoaWxkLm1ldHJpY3MubGVuZ3RoICYmIGNoaWxkLm1ldHJpY3NbMF0pKSB7CiAgICAgICAgICAgIGRlbGV0ZSBjaGlsZC5tZXRyaWNzOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghKGNoaWxkLm1ldHJpY1R5cGVzICYmIGNoaWxkLm1ldHJpY1R5cGVzLmxlbmd0aCAmJiBjaGlsZC5tZXRyaWNUeXBlc1swXSkpIHsKICAgICAgICAgICAgZGVsZXRlIGNoaWxkLm1ldHJpY1R5cGVzOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjaGlsZC5tZXRyaWNDb25maWcgJiYgY2hpbGQubWV0cmljQ29uZmlnLmxlbmd0aCkgewogICAgICAgICAgICBjaGlsZC5tZXRyaWNDb25maWcuZm9yRWFjaChmdW5jdGlvbiAoYywgaW5kZXgpIHsKICAgICAgICAgICAgICBpZiAoIWMuY2FsY3VsYXRpb24pIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBjLmNhbGN1bGF0aW9uOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCFjLnVuaXQpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBjLnVuaXQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoIWMubGFiZWwpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBjLmxhYmVsOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGlzRW1wdHlPYmplY3QoYykpIHsKICAgICAgICAgICAgICAgIChjaGlsZC5tZXRyaWNDb25maWcgfHwgW10pLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIShjaGlsZC5tZXRyaWNDb25maWcgJiYgY2hpbGQubWV0cmljQ29uZmlnLmxlbmd0aCkpIHsKICAgICAgICAgICAgZGVsZXRlIGNoaWxkLm1ldHJpY0NvbmZpZzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gIlRhYiIpIHsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjaGlsZC5jaGlsZHJlbiB8fCBbXSksCiAgICAgICAgICAgICAgICBfc3RlcDM7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgICAgICAgIG9wdGltaXplVGVtcGxhdGUoaXRlbS5jaGlsZHJlbik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChbIlRyYWNlIiwgIlRvcG9sb2d5IiwgIlRhYiIsICJQcm9maWxlIiwgIkVicGYiLCAiTG9nIl0uaW5jbHVkZXMoY2hpbGQudHlwZSkpIHsKICAgICAgICAgICAgZGVsZXRlIGNoaWxkLndpZGdldDsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgX2xvb3AoKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZGxlRWRpdChyb3cpIHsKICAgICAgZGFzaGJvYXJkU3RvcmUuc2V0TW9kZSh0cnVlKTsKICAgICAgZGFzaGJvYXJkU3RvcmUuc2V0RW50aXR5KHJvdy5lbnRpdHkpOwogICAgICBkYXNoYm9hcmRTdG9yZS5zZXRMYXllcihyb3cubGF5ZXIpOwogICAgICBkYXNoYm9hcmRTdG9yZS5zZXRDdXJyZW50RGFzaGJvYXJkKHJvdyk7CiAgICAgIHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkLyIuY29uY2F0KHJvdy5sYXllciwgIi8iKS5jb25jYXQocm93LmVudGl0eSwgIi8iKS5jb25jYXQocm93Lm5hbWUpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBoYW5kbGVWaWV3KHJvdykgewogICAgICBkYXNoYm9hcmRTdG9yZS5zZXRNb2RlKGZhbHNlKTsKICAgICAgZGFzaGJvYXJkU3RvcmUuc2V0RW50aXR5KHJvdy5lbnRpdHkpOwogICAgICBkYXNoYm9hcmRTdG9yZS5zZXRMYXllcihyb3cubGF5ZXIpOwogICAgICBkYXNoYm9hcmRTdG9yZS5zZXRDdXJyZW50RGFzaGJvYXJkKHJvdyk7CiAgICAgIHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkLyIuY29uY2F0KHJvdy5sYXllciwgIi8iKS5jb25jYXQocm93LmVudGl0eSwgIi8iKS5jb25jYXQocm93Lm5hbWUpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRSb290KF94MikgewogICAgICByZXR1cm4gX3NldFJvb3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfc2V0Um9vdCgpIHsKICAgICAgX3NldFJvb3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJvdykgewogICAgICAgIHZhciBpdGVtcywgX2l0ZXJhdG9yNiwgX3N0ZXA2LCBkLCBrZXksIGxheW91dCwgYywgc2V0dGluZywgcmVzLCBfa2V5LCBfbGF5b3V0LCBfYywgX3NldHRpbmcsIF9yZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpdGVtcyA9IFtdOwogICAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGFzaGJvYXJkU3RvcmUuZGFzaGJvYXJkcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDM7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5zKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGlmICgoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZCA9IF9zdGVwNi52YWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAoIShkLmlkID09PSByb3cuaWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGQuaXNSb290ID0gIXJvdy5pc1Jvb3Q7CiAgICAgICAgICAgICAgICBrZXkgPSBbZC5sYXllciwgZC5lbnRpdHksIGQubmFtZV0uam9pbigiXyIpOwogICAgICAgICAgICAgICAgbGF5b3V0ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICJ7fSI7CiAgICAgICAgICAgICAgICBjID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBKU09OLnBhcnNlKGxheW91dCkuY29uZmlndXJhdGlvbiksIGQpOwogICAgICAgICAgICAgICAgZGVsZXRlIGMuaWQ7CiAgICAgICAgICAgICAgICBzZXR0aW5nID0gewogICAgICAgICAgICAgICAgICBpZDogZC5pZCwKICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkoYykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIGRhc2hib2FyZFN0b3JlLnVwZGF0ZURhc2hib2FyZChzZXR0aW5nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jaGFuZ2VUZW1wbGF0ZS5pZCkgewogICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIGlkOiBkLmlkLAogICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IGMKICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIGlmICghKGQubGF5ZXIgPT09IHJvdy5sYXllciAmJiBbRW50aXR5VHlwZVswXS52YWx1ZSwgRW50aXR5VHlwZVsxXS52YWx1ZV0uaW5jbHVkZXMoZC5lbnRpdHkpICYmIHJvdy5pc1Jvb3QgPT09IGZhbHNlICYmIGQuaXNSb290ID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkLmlzUm9vdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2tleSA9IFtkLmxheWVyLCBkLmVudGl0eSwgZC5uYW1lXS5qb2luKCJfIik7CiAgICAgICAgICAgICAgICBfbGF5b3V0ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShfa2V5KSB8fCAie30iOwogICAgICAgICAgICAgICAgX2MgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIEpTT04ucGFyc2UoX2xheW91dCkuY29uZmlndXJhdGlvbiksIGQpOwogICAgICAgICAgICAgICAgX3NldHRpbmcgPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBkLmlkLAogICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShfYykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIGRhc2hib2FyZFN0b3JlLnVwZGF0ZURhc2hib2FyZChfc2V0dGluZyk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBfcmVzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKF9yZXMuZGF0YS5jaGFuZ2VUZW1wbGF0ZS5pZCkgewogICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKF9rZXksIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICBpZDogZC5pZCwKICAgICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uOiBfYwogICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGQpOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDM1OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDMpOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYuZShfY29udGV4dDQudDApOwoKICAgICAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAzODsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LmYoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmZpbmlzaCgzOCk7CgogICAgICAgICAgICAgIGNhc2UgNDE6CiAgICAgICAgICAgICAgICBkYXNoYm9hcmRTdG9yZS5yZXNldERhc2hib2FyZHMoaXRlbXMpOwogICAgICAgICAgICAgICAgc2VhcmNoRGFzaGJvYXJkcygxKTsKICAgICAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA0NDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1szLCAzNSwgMzgsIDQxXV0pOwogICAgICB9KSk7CiAgICAgIHJldHVybiBfc2V0Um9vdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhhbmRsZVJlbmFtZShyb3cpIHsKICAgICAgRWxNZXNzYWdlQm94LnByb21wdCgiUGxlYXNlIGlucHV0IGRhc2hib2FyZCBuYW1lIiwgIkVkaXQiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJPSyIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIkNhbmNlbCIsCiAgICAgICAgaW5wdXRWYWx1ZTogcm93Lm5hbWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciB2YWx1ZSA9IF9yZWYudmFsdWU7CiAgICAgICAgdXBkYXRlTmFtZShyb3csIHZhbHVlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICBtZXNzYWdlOiAiSW5wdXQgY2FuY2VsZWQiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZU5hbWUoX3gzLCBfeDQpIHsKICAgICAgcmV0dXJuIF91cGRhdGVOYW1lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX3VwZGF0ZU5hbWUoKSB7CiAgICAgIF91cGRhdGVOYW1lID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChkLCB2YWx1ZSkgewogICAgICAgIHZhciBrZXksIGxheW91dCwgYywgc2V0dGluZywgcmVzLCBzdHI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghbmV3IFJlZ0V4cCgvXHMvKS50ZXN0KHZhbHVlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcigiVGhlIG5hbWUgY2Fubm90IGNvbnRhaW4gc3BhY2VzLCBjYXJyaWFnZSByZXR1cm5zLCBldGMiKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAga2V5ID0gW2QubGF5ZXIsIGQuZW50aXR5LCBkLm5hbWVdLmpvaW4oIl8iKTsKICAgICAgICAgICAgICAgIGxheW91dCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAie30iOwogICAgICAgICAgICAgICAgYyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBKU09OLnBhcnNlKGxheW91dCkuY29uZmlndXJhdGlvbiksIGQpLCB7fSwgewogICAgICAgICAgICAgICAgICBuYW1lOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkZWxldGUgYy5pZDsKICAgICAgICAgICAgICAgIGRlbGV0ZSBjLmZpbHRlcnM7CiAgICAgICAgICAgICAgICBzZXR0aW5nID0gewogICAgICAgICAgICAgICAgICBpZDogZC5pZCwKICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkoYykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGFzaGJvYXJkU3RvcmUudXBkYXRlRGFzaGJvYXJkKHNldHRpbmcpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNoYW5nZVRlbXBsYXRlLmlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGRhc2hib2FyZFN0b3JlLnNldEN1cnJlbnREYXNoYm9hcmQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkKSwge30sIHsKICAgICAgICAgICAgICAgICAgbmFtZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIGRhc2hib2FyZHMudmFsdWUgPSBkYXNoYm9hcmRTdG9yZS5kYXNoYm9hcmRzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBpZiAoZGFzaGJvYXJkU3RvcmUuY3VycmVudERhc2hib2FyZC5pZCA9PT0gaXRlbS5pZCkgewogICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBkYXNoYm9hcmRTdG9yZS5jdXJyZW50RGFzaGJvYXJkOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZGFzaGJvYXJkU3RvcmUucmVzZXREYXNoYm9hcmRzKGRhc2hib2FyZHMudmFsdWUpOwogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiZGFzaGJvYXJkcyIsIEpTT04uc3RyaW5naWZ5KGRhc2hib2FyZHMudmFsdWUpKTsKICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTsKICAgICAgICAgICAgICAgIHN0ciA9IFtkYXNoYm9hcmRTdG9yZS5jdXJyZW50RGFzaGJvYXJkLmxheWVyLCBkYXNoYm9hcmRTdG9yZS5jdXJyZW50RGFzaGJvYXJkLmVudGl0eSwgZGFzaGJvYXJkU3RvcmUuY3VycmVudERhc2hib2FyZC5uYW1lXS5qb2luKCJfIik7CiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHN0ciwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICBpZDogZC5pZCwKICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbjogYwogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgc2VhcmNoVGV4dC52YWx1ZSA9ICIiOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX3VwZGF0ZU5hbWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBoYW5kbGVEZWxldGUoX3g1KSB7CiAgICAgIHJldHVybiBfaGFuZGxlRGVsZXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2hhbmRsZURlbGV0ZSgpIHsKICAgICAgX2hhbmRsZURlbGV0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocm93KSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhc2hib2FyZFN0b3JlLnNldEN1cnJlbnREYXNoYm9hcmQocm93KTsKICAgICAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRhc2hib2FyZFN0b3JlLmRlbGV0ZURhc2hib2FyZCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBkYXNoYm9hcmRzLnZhbHVlID0gZGFzaGJvYXJkU3RvcmUuZGFzaGJvYXJkczsKICAgICAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImRhc2hib2FyZHMiLCBKU09OLnN0cmluZ2lmeShkYXNoYm9hcmRzLnZhbHVlKSk7CiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCIiLmNvbmNhdChyb3cubGF5ZXIsICJfIikuY29uY2F0KHJvdy5lbnRpdHksICJfIikuY29uY2F0KHJvdy5uYW1lKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9oYW5kbGVEZWxldGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZWFyY2hEYXNoYm9hcmRzKHBhZ2VJbmRleCkgewogICAgICB2YXIgbGlzdCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiZGFzaGJvYXJkcyIpIHx8ICJbXSIpOwogICAgICB2YXIgYXJyID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5uYW1lLmluY2x1ZGVzKHNlYXJjaFRleHQudmFsdWUpOwogICAgICB9KTsKICAgICAgdG90YWwudmFsdWUgPSBhcnIubGVuZ3RoOwogICAgICBkYXNoYm9hcmRzLnZhbHVlID0gYXJyLmZpbHRlcihmdW5jdGlvbiAoZCwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gaW5kZXggPCBwYWdlSW5kZXggKiBwYWdlU2l6ZSAmJiBpbmRleCA+PSAocGFnZUluZGV4IC0gMSkgKiBwYWdlU2l6ZTsKICAgICAgfSk7CiAgICAgIGN1cnJlbnRQYWdlLnZhbHVlID0gcGFnZUluZGV4OwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbG9hZFRlbXBsYXRlcygpIHsKICAgICAgcmV0dXJuIF9yZWxvYWRUZW1wbGF0ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfcmVsb2FkVGVtcGxhdGVzKCkgewogICAgICBfcmVsb2FkVGVtcGxhdGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZGFzaGJvYXJkU3RvcmUucmVzZXRUZW1wbGF0ZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSk7CiAgICAgIHJldHVybiBfcmVsb2FkVGVtcGxhdGVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlUGFnZShwYWdlSW5kZXgpIHsKICAgICAgY3VycmVudFBhZ2UudmFsdWUgPSBwYWdlSW5kZXg7CiAgICAgIHNlYXJjaERhc2hib2FyZHMocGFnZUluZGV4KTsKICAgIH0KCiAgICByZXR1cm4gZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSkgewogICAgICB2YXIgX2NvbXBvbmVudF9JY29uID0gX3Jlc29sdmVDb21wb25lbnQoIkljb24iKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CgogICAgICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRhYmxlLWNvbHVtbiIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfcG9wY29uZmlybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1wb3Bjb25maXJtIik7CgogICAgICB2YXIgX2NvbXBvbmVudF9lbF90YWJsZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10YWJsZSIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfcGFnaW5hdGlvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1wYWdpbmF0aW9uIik7CgogICAgICB2YXIgX2RpcmVjdGl2ZV9sb2FkaW5nID0gX3Jlc29sdmVEaXJlY3RpdmUoImxvYWRpbmciKTsKCiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICBtb2RlbFZhbHVlOiBzZWFyY2hUZXh0LnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gc2VhcmNoVGV4dC52YWx1ZSA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBwbGFjZWhvbGRlcjogIlBsZWFzZSBpbnB1dCBuYW1lIiwKICAgICAgICBjbGFzczogImlucHV0LXdpdGgtc2VhcmNoIG1sLTEwIiwKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIG9uQ2hhbmdlOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBzZWFyY2hEYXNoYm9hcmRzKDEpOwogICAgICAgIH0pCiAgICAgIH0sIHsKICAgICAgICBhcHBlbmQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICAgIHNpemU6ICJzbWFsbCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgewogICAgICAgICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgICAgICAgIGljb25OYW1lOiAic2VhcmNoIgogICAgICAgICAgICAgIH0pXTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0sIDgsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgY2xhc3M6ICJtbC0xMCByZWxvYWQtYnRuIiwKICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgIG9uQ2xpY2s6IHJlbG9hZFRlbXBsYXRlcwogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7CiAgICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICAgIGljb25OYW1lOiAicmV0cnkiLAogICAgICAgICAgICBjbGFzczogInJlbG9hZCIKICAgICAgICAgIH0pLCBfY3JlYXRlVGV4dFZOb2RlKCIgIiArIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJyZWxvYWREYXNoYm9hcmRzIikpLCAxKV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgICAgICB0bzogIi9kYXNoYm9hcmQvbmV3IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgICAgdHlwZTogInByaW1hcnkiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoIiArICIgKyBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgibmV3RGFzaGJvYXJkIikpLCAxKV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX3dpdGhEaXJlY3RpdmVzKChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX3RhYmxlLCB7CiAgICAgICAgZGF0YTogZGFzaGJvYXJkcy52YWx1ZSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgZm9udFNpemU6ICcxM3B4JywKICAgICAgICAgIHdpZHRoOiAnMTAwJScKICAgICAgICB9LAogICAgICAgIHJlZl9rZXk6ICJtdWx0aXBsZVRhYmxlUmVmIiwKICAgICAgICByZWY6IG11bHRpcGxlVGFibGVSZWYsCiAgICAgICAgImRlZmF1bHQtc29ydCI6IHsKICAgICAgICAgIHByb3A6ICduYW1lJywKICAgICAgICAgIG9yZGVyOiAnYXNjZW5kaW5nJwogICAgICAgIH0sCiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U6IGhhbmRsZVNlbGVjdGlvbkNoYW5nZSwKICAgICAgICBoZWlnaHQ6ICI2MzdweCIsCiAgICAgICAgc2l6ZTogInNtYWxsIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHsKICAgICAgICAgICAgdHlwZTogInNlbGVjdGlvbiIsCiAgICAgICAgICAgIHdpZHRoOiAiNTUiCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7CiAgICAgICAgICAgIHByb3A6ICJuYW1lIiwKICAgICAgICAgICAgbGFiZWw6ICJOYW1lIgogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoc2NvcGUpIHsKICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgICAgICAgICAgICBjbGFzczogImNwIG5hbWUiLAogICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVZpZXcoc2NvcGUucm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKHNjb3BlLnJvdy5uYW1lKSwgOSwgX2hvaXN0ZWRfNCldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgICAgICBwcm9wOiAibGF5ZXIiLAogICAgICAgICAgICBsYWJlbDogIkxheWVyIiwKICAgICAgICAgICAgd2lkdGg6ICIxMjAiCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7CiAgICAgICAgICAgIHByb3A6ICJlbnRpdHkiLAogICAgICAgICAgICBsYWJlbDogIkVudGl0eSIsCiAgICAgICAgICAgIHdpZHRoOiAiMjAwIgogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgICAgICBwcm9wOiAiaXNSb290IiwKICAgICAgICAgICAgbGFiZWw6ICJSb290IiwKICAgICAgICAgICAgd2lkdGg6ICI2MCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKHNjb3BlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhzY29wZS5yb3cuaXNSb290ID8gX3VucmVmKHQpKCJ5ZXMiKSA6IF91bnJlZih0KSgibm8iKSksIDEpXTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHsKICAgICAgICAgICAgbGFiZWw6ICJPcGVyYXRpb25zIiwKICAgICAgICAgICAgd2lkdGg6ICIzNTAiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uIChzY29wZSkgewogICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVkaXQoc2NvcGUucm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgiZWRpdCIpKSwgMSldOwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgfSwgMTAzMiwgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVuYW1lKHNjb3BlLnJvdyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoInJlbmFtZSIpKSwgMSldOwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgfSwgMTAzMiwgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wb3Bjb25maXJtLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogX3VucmVmKHQpKCdkZWxldGVUaXRsZScpLAogICAgICAgICAgICAgICAgb25Db25maXJtOiBmdW5jdGlvbiBvbkNvbmZpcm0oJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVEZWxldGUoc2NvcGUucm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICByZWZlcmVuY2U6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoImRlbGV0ZSIpKSwgMSldOwogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICAgICAgfSldOwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgfSwgMTAzMiwgWyJ0aXRsZSIsICJvbkNvbmZpcm0iXSksIFtfdW5yZWYoRW50aXR5VHlwZSlbMF0udmFsdWUsIF91bnJlZihFbnRpdHlUeXBlKVsxXS52YWx1ZV0uaW5jbHVkZXMoc2NvcGUucm93LmVudGl0eSkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9wb3Bjb25maXJtLCB7CiAgICAgICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgICAgICB0aXRsZTogX3VucmVmKHQpKCdyb290VGl0bGUnKSwKICAgICAgICAgICAgICAgIG9uQ29uZmlybTogZnVuY3Rpb24gb25Db25maXJtKCRldmVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gc2V0Um9vdChzY29wZS5yb3cpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICIxMTBweCIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhzY29wZS5yb3cuaXNSb290ID8gX3VucmVmKHQpKCJzZXROb3JtYWwiKSA6IF91bnJlZih0KSgic2V0Um9vdCIpKSwgMSldOwogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgIF86IDIKICAgICAgICAgICAgICAgICAgfSwgMTAyNCldOwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgfSwgMTAzMiwgWyJ0aXRsZSIsICJvbkNvbmZpcm0iXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSwgOCwgWyJkYXRhIl0pKSwgW1tfZGlyZWN0aXZlX2xvYWRpbmcsIGxvYWRpbmcudmFsdWVdXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICBzaXplOiAiZGVmYXVsdCIsCiAgICAgICAgY2xhc3M6ICJidG4iLAogICAgICAgIG9uQ2xpY2s6IGV4cG9ydFRlbXBsYXRlcwogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7CiAgICAgICAgICAgIGNsYXNzOiAibXItNSIsCiAgICAgICAgICAgIGljb25OYW1lOiAic2F2ZV9hbHQiCiAgICAgICAgICB9KSwgX2NyZWF0ZVRleHRWTm9kZSgiICIgKyBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgiZXhwb3J0IikpLCAxKV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgY2xhc3M6ICJtbC0xMCBidG4iLAogICAgICAgIHNpemU6ICJkZWZhdWx0IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgICAgICAgICAgcmVmX2tleTogImRhc2hib2FyZEZpbGUiLAogICAgICAgICAgICByZWY6IGRhc2hib2FyZEZpbGUsCiAgICAgICAgICAgIGlkOiAiZGFzaGJvYXJkLWZpbGUiLAogICAgICAgICAgICBjbGFzczogImltcG9ydC10ZW1wbGF0ZSIsCiAgICAgICAgICAgIHR5cGU6ICJmaWxlIiwKICAgICAgICAgICAgbmFtZTogImZpbGUiLAogICAgICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgICAgIGFjY2VwdDogIi5qc29uIiwKICAgICAgICAgICAgb25DaGFuZ2U6IGltcG9ydFRlbXBsYXRlcwogICAgICAgICAgfSwgbnVsbCwgNTQ0KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgewogICAgICAgICAgICBjbGFzczogIm1yLTUiLAogICAgICAgICAgICBpY29uTmFtZTogImZvbGRlcl9vcGVuIgogICAgICAgICAgfSksIF9jcmVhdGVUZXh0Vk5vZGUoIiAiICsgX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoImltcG9ydCIpKSwgMSldKV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcGFnaW5hdGlvbiwgewogICAgICAgIGNsYXNzOiAicGFnaW5hdGlvbiIsCiAgICAgICAgYmFja2dyb3VuZDogIiIsCiAgICAgICAgc21hbGw6ICIiLAogICAgICAgIGxheW91dDogInByZXYsIHBhZ2VyLCBuZXh0IiwKICAgICAgICAicGFnZS1zaXplIjogcGFnZVNpemUsCiAgICAgICAgdG90YWw6IHRvdGFsLnZhbHVlLAogICAgICAgIG1vZGVsVmFsdWU6IGN1cnJlbnRQYWdlLnZhbHVlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gY3VycmVudFBhZ2UudmFsdWUgPSAkZXZlbnQ7CiAgICAgICAgfSksCiAgICAgICAgb25DdXJyZW50Q2hhbmdlOiBjaGFuZ2VQYWdlLAogICAgICAgIG9uUHJldkNsaWNrOiBjaGFuZ2VQYWdlLAogICAgICAgIG9uTmV4dENsaWNrOiBjaGFuZ2VQYWdlCiAgICAgIH0sIG51bGwsIDgsIFsidG90YWwiLCAibW9kZWxWYWx1ZSJdKV0pXSldKTsKICAgIH07CiAgfQp9KTs="},null]}