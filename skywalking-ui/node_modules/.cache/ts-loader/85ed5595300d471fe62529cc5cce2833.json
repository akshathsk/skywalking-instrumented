{"remainingRequest":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js??ref--15-3!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/eslint-loader/index.js??ref--14-0!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/utils/d3-trace-list.ts","dependencies":[{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/utils/d3-trace-list.ts","mtime":1661850019000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/babel.config.js","mtime":1661850018000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1663881222784},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1663881222612},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1663881224500},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1663881224684},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/eslint-loader/index.js","mtime":1663881222992}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9zazExNy9maW5hbC1wcm9qZWN0L2FwYWNoZS1za3l3YWxraW5nLWFwbS05LjIuMC9za3l3YWxraW5nLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvc2sxMTcvZmluYWwtcHJvamVjdC9hcGFjaGUtc2t5d2Fsa2luZy1hcG0tOS4yLjAvc2t5d2Fsa2luZy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvYXBhY2hlLXNreXdhbGtpbmctYXBtLTkuMi4wL3NreXdhbGtpbmctdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwoKLyoqPC90ZW1wbGF0ZT4KICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZSBvciBtb3JlCiAqIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuCiAqIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlIHRvIFlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wCiAqICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoCiAqIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwppbXBvcnQgKiBhcyBkMyBmcm9tICJkMyI7CmltcG9ydCBkM3RpcCBmcm9tICJkMy10aXAiOwoKdmFyIExpc3RHcmFwaCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gTGlzdEdyYXBoKGVsLCBoYW5kbGVTZWxlY3RTcGFuKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlzdEdyYXBoKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImJhckhlaWdodCIsIDQ4KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImhhbmRsZVNlbGVjdFNwYW4iLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImVsIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpIiwgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ3aWR0aCIsIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaGVpZ2h0IiwgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzdmciLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInRpcCIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicm93IiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZGF0YSIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgIm1pbiIsIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAibWF4IiwgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJsaXN0IiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAieFNjYWxlIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ4QXhpcyIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic2VxdWVudGlhbFNjYWxlIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJyb290IiwgbnVsbCk7CgogICAgdGhpcy5oYW5kbGVTZWxlY3RTcGFuID0gaGFuZGxlU2VsZWN0U3BhbjsKICAgIHRoaXMuZWwgPSBlbDsKICAgIHRoaXMud2lkdGggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDEwOwogICAgdGhpcy5oZWlnaHQgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLSAxMDsKICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KHRoaXMuZWwpLmFwcGVuZCgic3ZnIikuYXR0cigiY2xhc3MiLCAidHJhY2UtbGlzdC1kb3dhbmxvYWQiKS5hdHRyKCJ3aWR0aCIsIHRoaXMud2lkdGggPiAwID8gdGhpcy53aWR0aCA6IDEwKS5hdHRyKCJoZWlnaHQiLCB0aGlzLmhlaWdodCA+IDAgPyB0aGlzLmhlaWdodCA6IDEwKS5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKC01LCAwKSIpOwogICAgdGhpcy50aXAgPSBkM3RpcCgpLmF0dHIoImNsYXNzIiwgImQzLXRpcCIpLm9mZnNldChbLTgsIDBdKS5odG1sKGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAiXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTVcIj4iLmNvbmNhdChkLmRhdGEubGFiZWwsICI8L2Rpdj5cbiAgICAgICAgICAiKS5jb25jYXQoZC5kYXRhLmR1ciA/ICc8ZGl2IGNsYXNzPSJzbSI+U2VsZkR1cmF0aW9uOiAnICsgZC5kYXRhLmR1ciArICJtczwvZGl2PiIgOiAiIiwgIlxuICAgICAgICAgICIpLmNvbmNhdChkLmRhdGEuZW5kVGltZSAtIGQuZGF0YS5zdGFydFRpbWUgPyAnPGRpdiBjbGFzcz0ic20iPlRvdGFsRHVyYXRpb246ICcgKyAoZC5kYXRhLmVuZFRpbWUgLSBkLmRhdGEuc3RhcnRUaW1lKSArICJtczwvZGl2PiIgOiAiIiwgIlxuICAgICAgICAgICIpOwogICAgfSk7CiAgICB0aGlzLnN2Zy5jYWxsKHRoaXMudGlwKTsKICB9CgogIF9jcmVhdGVDbGFzcyhMaXN0R3JhcGgsIFt7CiAgICBrZXk6ICJkaWFnb25hbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlhZ29uYWwoZCkgewogICAgICByZXR1cm4gIk0gIi5jb25jYXQoZC5zb3VyY2UueSwgIiAiKS5jb25jYXQoZC5zb3VyY2UueCArIDUsICJcbiAgICBMICIpLmNvbmNhdChkLnNvdXJjZS55LCAiICIpLmNvbmNhdChkLnRhcmdldC54IC0gMzAsICJcbiAgICBMIikuY29uY2F0KGQudGFyZ2V0LnksICIgIikuY29uY2F0KGQudGFyZ2V0LnggLSAyMCwgIlxuICAgIEwiKS5jb25jYXQoZC50YXJnZXQueSwgIiAiKS5jb25jYXQoZC50YXJnZXQueCAtIDUpOwogICAgfQogIH0sIHsKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoZGF0YSwgcm93LCBmaXhTcGFuc1NpemUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGQzLnNlbGVjdCgiLnRyYWNlLXhheGlzIikucmVtb3ZlKCk7CiAgICAgIHRoaXMucm93ID0gcm93OwogICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICB0aGlzLm1pbiA9IGQzLm1pbih0aGlzLnJvdy5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5zdGFydFRpbWU7CiAgICAgIH0pKTsKICAgICAgdGhpcy5tYXggPSBkMy5tYXgodGhpcy5yb3cubWFwKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGkuZW5kVGltZSAtIF90aGlzLm1pbjsKICAgICAgfSkpIHx8IDA7CiAgICAgIHRoaXMubGlzdCA9IEFycmF5LmZyb20obmV3IFNldCh0aGlzLnJvdy5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5zZXJ2aWNlQ29kZTsKICAgICAgfSkpKTsKICAgICAgdGhpcy54U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFswLCB0aGlzLndpZHRoICogMC4zODddKS5kb21haW4oWzAsIHRoaXMubWF4XSk7CiAgICAgIHRoaXMueEF4aXMgPSBkMy5heGlzVG9wKHRoaXMueFNjYWxlKS50aWNrRm9ybWF0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgaWYgKGQgPT09IDApIHJldHVybiAwOwogICAgICAgIGlmIChkID49IDEwMDApIHJldHVybiBkIC8gMTAwMCArICJzIjsKICAgICAgICByZXR1cm4gZDsKICAgICAgfSk7CiAgICAgIHRoaXMuc3ZnLmF0dHIoImhlaWdodCIsICh0aGlzLnJvdy5sZW5ndGggKyBmaXhTcGFuc1NpemUgKyAxKSAqIHRoaXMuYmFySGVpZ2h0KTsKICAgICAgdGhpcy5zdmcuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCAidHJhY2UteGF4aXMiKS5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIuY29uY2F0KHRoaXMud2lkdGggKiAwLjYxOCAtIDIwLCAiLCIsIDMwLCAiKSIpKS5jYWxsKHRoaXMueEF4aXMpOwogICAgICB0aGlzLnNlcXVlbnRpYWxTY2FsZSA9IGQzLnNjYWxlU2VxdWVudGlhbCgpLmRvbWFpbihbMCwgdGhpcy5saXN0Lmxlbmd0aCArIDFdKS5pbnRlcnBvbGF0b3IoZDMuaW50ZXJwb2xhdGVDb29sKTsKICAgICAgdGhpcy5yb290ID0gZDMuaGllcmFyY2h5KHRoaXMuZGF0YSwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5jaGlsZHJlbjsKICAgICAgfSk7CiAgICAgIHRoaXMucm9vdC54MCA9IDA7CiAgICAgIHRoaXMucm9vdC55MCA9IDA7CiAgICB9CiAgfSwgewogICAga2V5OiAiZHJhdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyhjYWxsYmFjaykgewogICAgICB0aGlzLnVwZGF0ZSh0aGlzLnJvb3QsIGNhbGxiYWNrKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xpY2soZCwgc2NvcGUpIHsKICAgICAgaWYgKCFkLmRhdGEudHlwZSkgcmV0dXJuOwoKICAgICAgaWYgKGQuY2hpbGRyZW4pIHsKICAgICAgICBkLl9jaGlsZHJlbiA9IGQuY2hpbGRyZW47CiAgICAgICAgZC5jaGlsZHJlbiA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZC5jaGlsZHJlbiA9IGQuX2NoaWxkcmVuOwogICAgICAgIGQuX2NoaWxkcmVuID0gbnVsbDsKICAgICAgfQoKICAgICAgc2NvcGUudXBkYXRlKGQpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKHNvdXJjZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdCA9IHRoaXM7CiAgICAgIHZhciBub2RlcyA9IHRoaXMucm9vdC5kZXNjZW5kYW50cygpOwogICAgICB2YXIgaW5kZXggPSAtMTsKICAgICAgdGhpcy5yb290LmVhY2hCZWZvcmUoZnVuY3Rpb24gKG4pIHsKICAgICAgICBuLnggPSArK2luZGV4ICogX3RoaXMyLmJhckhlaWdodCArIDI0OwogICAgICAgIG4ueSA9IG4uZGVwdGggKiAxMjsKICAgICAgfSk7CiAgICAgIHZhciBub2RlID0gdGhpcy5zdmcuc2VsZWN0QWxsKCIudHJhY2Utbm9kZSIpLmRhdGEobm9kZXMsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuaWQgfHwgKGQuaWQgPSArK190aGlzMi5pKTsKICAgICAgfSk7CiAgICAgIHZhciBub2RlRW50ZXIgPSBub2RlLmVudGVyKCkuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiLmNvbmNhdChzb3VyY2UueTAsICIsIikuY29uY2F0KHNvdXJjZS54MCwgIikiKSkuYXR0cigiY2xhc3MiLCAidHJhY2Utbm9kZSIpLnN0eWxlKCJvcGFjaXR5IiwgMCkub24oIm1vdXNlb3ZlciIsIGZ1bmN0aW9uIChldmVudCwgZCkgewogICAgICAgIHQudGlwLnNob3coZCwgdGhpcyk7CiAgICAgIH0pLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uIChldmVudCwgZCkgewogICAgICAgIHQudGlwLmhpZGUoZCwgdGhpcyk7CiAgICAgIH0pLm9uKCJjbGljayIsIGZ1bmN0aW9uIChldmVudCwgZCkgewogICAgICAgIGlmIChfdGhpczIuaGFuZGxlU2VsZWN0U3BhbikgewogICAgICAgICAgX3RoaXMyLmhhbmRsZVNlbGVjdFNwYW4oZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgbm9kZUVudGVyLmFwcGVuZCgicmVjdCIpLmF0dHIoImhlaWdodCIsIDQyKS5hdHRyKCJyeSIsIDIpLmF0dHIoInJ4IiwgMikuYXR0cigieSIsIC0yMikuYXR0cigieCIsIDIwKS5hdHRyKCJ3aWR0aCIsICIxMDAlIikuYXR0cigiZmlsbCIsICJyZ2JhKDAsMCwwLDApIik7CiAgICAgIG5vZGVFbnRlci5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgMTMpLmF0dHIoInkiLCA1KS5hdHRyKCJmaWxsIiwgIiNFNTRDMTciKS5odG1sKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuZGF0YS5pc0Vycm9yID8gIuKXiSIgOiAiIjsKICAgICAgfSk7CiAgICAgIG5vZGVFbnRlci5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsICJub2RlLXRleHQiKS5hdHRyKCJ4IiwgMzUpLmF0dHIoInkiLCAtNikuYXR0cigiZmlsbCIsICIjMzMzIikudGV4dChmdW5jdGlvbiAoZCkgewogICAgICAgIGlmIChkLmRhdGEubGFiZWwgPT09ICJUUkFDRV9ST09UIikgewogICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGQuZGF0YS5sYWJlbC5sZW5ndGggPiA0MCA/ICIiLmNvbmNhdChkLmRhdGEubGFiZWwuc2xpY2UoMCwgNDApLCAiLi4uIikgOiAiIi5jb25jYXQoZC5kYXRhLmxhYmVsKTsKICAgICAgfSk7CiAgICAgIG5vZGVFbnRlci5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsICJub2RlLXRleHQiKS5hdHRyKCJ4IiwgMzUpLmF0dHIoInkiLCAxMikuYXR0cigiZmlsbCIsICIjY2NjIikuc3R5bGUoImZvbnQtc2l6ZSIsICIxMXB4IikudGV4dChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoZC5kYXRhLmxheWVyIHx8ICIiLCAiICIpLmNvbmNhdChkLmRhdGEuY29tcG9uZW50ID8gIi0gIiArIGQuZGF0YS5jb21wb25lbnQgOiBkLmRhdGEuY29tcG9uZW50IHx8ICIiKTsKICAgICAgfSk7CiAgICAgIG5vZGVFbnRlci5hcHBlbmQoInJlY3QiKS5hdHRyKCJyeCIsIDIpLmF0dHIoInJ5IiwgMikuYXR0cigiaGVpZ2h0IiwgNCkuYXR0cigid2lkdGgiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIGlmICghZC5kYXRhLmVuZFRpbWUgfHwgIWQuZGF0YS5zdGFydFRpbWUpIHJldHVybiAwOwogICAgICAgIHJldHVybiBfdGhpczIueFNjYWxlKGQuZGF0YS5lbmRUaW1lIC0gZC5kYXRhLnN0YXJ0VGltZSkgKyAxIHx8IDA7CiAgICAgIH0pLmF0dHIoIngiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiAhZC5kYXRhLmVuZFRpbWUgfHwgIWQuZGF0YS5zdGFydFRpbWUgPyAwIDogX3RoaXMyLndpZHRoICogMC42MTggLSAyMCAtIGQueSArIF90aGlzMi54U2NhbGUoZC5kYXRhLnN0YXJ0VGltZSAtIF90aGlzMi5taW4pIHx8IDA7CiAgICAgIH0pLmF0dHIoInkiLCAtMikuc3R5bGUoImZpbGwiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoX3RoaXMyLnNlcXVlbnRpYWxTY2FsZShfdGhpczIubGlzdC5pbmRleE9mKGQuZGF0YS5zZXJ2aWNlQ29kZSkpKTsKICAgICAgfSk7CiAgICAgIG5vZGVFbnRlci50cmFuc2l0aW9uKCkuZHVyYXRpb24oNDAwKS5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiAidHJhbnNsYXRlKCIuY29uY2F0KGQueSArIDUsICIsIikuY29uY2F0KGQueCwgIikiKTsKICAgICAgfSkuc3R5bGUoIm9wYWNpdHkiLCAxKTsKICAgICAgbm9kZUVudGVyLmFwcGVuZCgiY2lyY2xlIikuYXR0cigiciIsIDMpLnN0eWxlKCJjdXJzb3IiLCAicG9pbnRlciIpLmF0dHIoInN0cm9rZS13aWR0aCIsIDIuNSkuYXR0cigiZmlsbCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuX2NoaWxkcmVuID8gIiIuY29uY2F0KF90aGlzMi5zZXF1ZW50aWFsU2NhbGUoX3RoaXMyLmxpc3QuaW5kZXhPZihkLmRhdGEuc2VydmljZUNvZGUpKSkgOiAicmJnYSgwLDAsMCwwKSI7CiAgICAgIH0pLnN0eWxlKCJzdHJva2UiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLmRhdGEubGFiZWwgPT09ICJUUkFDRV9ST09UIiA/ICIiIDogIiIuY29uY2F0KF90aGlzMi5zZXF1ZW50aWFsU2NhbGUoX3RoaXMyLmxpc3QuaW5kZXhPZihkLmRhdGEuc2VydmljZUNvZGUpKSk7CiAgICAgIH0pLm9uKCJjbGljayIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgX3RoaXMyLmNsaWNrKGQsIF90aGlzMik7CiAgICAgIH0pOwogICAgICBub2RlLnRyYW5zaXRpb24oKS5kdXJhdGlvbig0MDApLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuICJ0cmFuc2xhdGUoIi5jb25jYXQoZC55ICsgNSwgIiwiKS5jb25jYXQoZC54LCAiKSIpOwogICAgICB9KS5zdHlsZSgib3BhY2l0eSIsIDEpLnNlbGVjdCgiY2lyY2xlIikuYXR0cigiZmlsbCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuX2NoaWxkcmVuID8gIiIuY29uY2F0KF90aGlzMi5zZXF1ZW50aWFsU2NhbGUoX3RoaXMyLmxpc3QuaW5kZXhPZihkLmRhdGEuc2VydmljZUNvZGUpKSkgOiAiIjsKICAgICAgfSk7IC8vIFRyYW5zaXRpb24gZXhpdGluZyBub2RlcyB0byB0aGUgcGFyZW50J3MgbmV3IHBvc2l0aW9uLgoKICAgICAgbm9kZS5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDQwMCkuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiLmNvbmNhdChzb3VyY2UueSwgIiwiKS5jb25jYXQoc291cmNlLngsICIpIikpLnN0eWxlKCJvcGFjaXR5IiwgMCkucmVtb3ZlKCk7CiAgICAgIHZhciBsaW5rID0gdGhpcy5zdmcuc2VsZWN0QWxsKCIudHJhY2UtbGluayIpLmRhdGEodGhpcy5yb290LmxpbmtzKCksIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQudGFyZ2V0LmlkOwogICAgICB9KTsKICAgICAgbGluay5lbnRlcigpLmluc2VydCgicGF0aCIsICJnIikuYXR0cigiY2xhc3MiLCAidHJhY2UtbGluayIpLmF0dHIoImZpbGwiLCAicmdiYSgwLDAsMCwwKSIpLmF0dHIoInN0cm9rZSIsICJyZ2JhKDAsIDAsIDAsIDAuMSkiKS5hdHRyKCJzdHJva2Utd2lkdGgiLCAyKS5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDUsIDApIikuYXR0cigiZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbyA9IHsKICAgICAgICAgIHg6IHNvdXJjZS54MCArIDQwLAogICAgICAgICAgeTogc291cmNlLnkwCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXMyLmRpYWdvbmFsKHsKICAgICAgICAgIHNvdXJjZTogbywKICAgICAgICAgIHRhcmdldDogbwogICAgICAgIH0pOwogICAgICB9KS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNDAwKS5hdHRyKCJkIiwgdGhpcy5kaWFnb25hbCk7CiAgICAgIGxpbmsudHJhbnNpdGlvbigpLmR1cmF0aW9uKDQwMCkuYXR0cigiZCIsIHRoaXMuZGlhZ29uYWwpOwogICAgICBsaW5rLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNDAwKS5hdHRyKCJkIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBvID0gewogICAgICAgICAgeDogc291cmNlLnggKyAzNSwKICAgICAgICAgIHk6IHNvdXJjZS55CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gX3RoaXMyLmRpYWdvbmFsKHsKICAgICAgICAgIHNvdXJjZTogbywKICAgICAgICAgIHRhcmdldDogbwogICAgICAgIH0pOwogICAgICB9KS5yZW1vdmUoKTsKICAgICAgdGhpcy5yb290LmVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICBkLngwID0gZC54OwogICAgICAgIGQueTAgPSBkLnk7CiAgICAgIH0pOwoKICAgICAgaWYgKGNhbGxiYWNrKSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlc2l6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkgewogICAgICBpZiAoIXRoaXMuZWwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMud2lkdGggPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gMjA7CiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLSAxMDsKICAgICAgdGhpcy5zdmcuYXR0cigid2lkdGgiLCB0aGlzLndpZHRoKS5hdHRyKCJoZWlnaHQiLCB0aGlzLmhlaWdodCk7CiAgICAgIHRoaXMuc3ZnLnNlbGVjdCgiZyIpLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gInRyYW5zbGF0ZSgxNjAsIDApIjsKICAgICAgfSk7CiAgICAgIHZhciB0cmFuc2Zvcm0gPSBkMy56b29tVHJhbnNmb3JtKHRoaXMuc3ZnKS50cmFuc2xhdGUoMCwgMCk7CiAgICAgIGQzLnpvb20oKS50cmFuc2Zvcm0odGhpcy5zdmcsIHRyYW5zZm9ybSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTGlzdEdyYXBoOwp9KCk7CgpleHBvcnQgeyBMaXN0R3JhcGggYXMgZGVmYXVsdCB9Ow=="},null]}