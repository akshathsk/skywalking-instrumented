{"remainingRequest":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js??ref--15-3!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/event/Content.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/event/Content.vue","mtime":1666468223600},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/babel.config.js","mtime":1666468223484},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1666468252648},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1666468229208},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1666468239564},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1666468229004},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1666468239640},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1666468229208},{"path":"/home/sk117/final-project/copy/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js","mtime":1666468249808}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvc2sxMTcvZmluYWwtcHJvamVjdC9jb3B5L2FwYWNoZS1za3l3YWxraW5nLWFwbS05LjIuMC9za3l3YWxraW5nLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvY29weS9hcGFjaGUtc2t5d2Fsa2luZy1hcG0tOS4yLjAvc2t5d2Fsa2luZy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHJlZiwgd2F0Y2gsIG9uTW91bnRlZCB9IGZyb20gInZ1ZSI7CmltcG9ydCBkYXlqcyBmcm9tICJkYXlqcyI7CmltcG9ydCB7IHVzZVRocm90dGxlRm4gfSBmcm9tICJAdnVldXNlL2NvcmUiOwppbXBvcnQgeyB1c2VFdmVudFN0b3JlIH0gZnJvbSAiQC9zdG9yZS9tb2R1bGVzL2V2ZW50IjsKaW1wb3J0IHsgRGF0YVNldCwgVGltZWxpbmUgfSBmcm9tICJ2aXMtdGltZWxpbmUvc3RhbmRhbG9uZSI7CmltcG9ydCAidmlzLXRpbWVsaW5lL3N0eWxlcy92aXMtdGltZWxpbmUtZ3JhcGgyZC5jc3MiOwppbXBvcnQgeyB1c2VEYXNoYm9hcmRTdG9yZSB9IGZyb20gIkAvc3RvcmUvbW9kdWxlcy9kYXNoYm9hcmQiOwppbXBvcnQgZ2V0RGFzaGJvYXJkIGZyb20gIkAvaG9va3MvdXNlRGFzaGJvYXJkc1Nlc3Npb24iOwppbXBvcnQgeyB1c2VBcHBTdG9yZVdpdGhPdXQgfSBmcm9tICJAL3N0b3JlL21vZHVsZXMvYXBwIjsKaW1wb3J0IGRhdGVGb3JtYXRTdGVwLCB7IGRhdGVGb3JtYXRUaW1lIH0gZnJvbSAiQC91dGlscy9kYXRlRm9ybWF0IjsKaW1wb3J0IGdldExvY2FsVGltZSBmcm9tICJAL3V0aWxzL2xvY2FsdGltZSI7CmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9fZGVmaW5lQ29tcG9uZW50KHsKICBwcm9wczogewogICAgZGF0YTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMpIHsKICAgIHZhciBwcm9wcyA9IF9fcHJvcHM7CiAgICB2YXIgZXZlbnRTdG9yZSA9IHVzZUV2ZW50U3RvcmUoKTsKICAgIC8qZ2xvYmFsIGRlZmluZVByb3BzLCBOdWxsYWJsZSAqLwoKICAgIHZhciB0aW1lbGluZSA9IHJlZihudWxsKTsKICAgIHZhciB2aXNHcmFwaCA9IHJlZihudWxsKTsKICAgIHZhciBvbGRWYWwgPSByZWYoewogICAgICB3aWR0aDogMCwKICAgICAgaGVpZ2h0OiAwCiAgICB9KTsKICAgIHZhciBkYXNoYm9hcmRTdG9yZSA9IHVzZURhc2hib2FyZFN0b3JlKCk7CiAgICB2YXIgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZVdpdGhPdXQoKTsKCiAgICB2YXIgdmlzRGF0ZSA9IGZ1bmN0aW9uIHZpc0RhdGUoZGF0ZSkgewogICAgICB2YXIgcGF0dGVybiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogIllZWVktTU0tREQgSEg6bW06c3MiOwogICAgICByZXR1cm4gZGF5anMoZGF0ZSkuZm9ybWF0KHBhdHRlcm4pOwogICAgfTsKCiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBvbGRWYWwudmFsdWUgPSB0aW1lbGluZS52YWx1ZSAmJiB0aW1lbGluZS52YWx1ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB8fCB7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwCiAgICAgIH07CiAgICAgIHVzZVRocm90dGxlRm4ocmVzaXplLCA1MDApKCk7CiAgICB9KTsKCiAgICBmdW5jdGlvbiB2aXNUaW1lbGluZSgpIHsKICAgICAgaWYgKCF0aW1lbGluZS52YWx1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHZpc0dyYXBoLnZhbHVlKSB7CiAgICAgICAgdmlzR3JhcGgudmFsdWUuZGVzdHJveSgpOwogICAgICB9CgogICAgICB2YXIgaCA9IHRpbWVsaW5lLnZhbHVlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDsKICAgICAgdmFyIGV2ZW50cyA9IGV2ZW50U3RvcmUuZXZlbnRzLm1hcChmdW5jdGlvbiAoZCwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IGluZGV4ICsgMSwKICAgICAgICAgIGNvbnRlbnQ6IGQubmFtZSwKICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShOdW1iZXIoZC5zdGFydFRpbWUpKSwKICAgICAgICAgIGVuZDogbmV3IERhdGUoTnVtYmVyKGQuZW5kVGltZSkpLAogICAgICAgICAgZGF0YTogZCwKICAgICAgICAgIGNsYXNzTmFtZTogZC50eXBlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHZhciBpdGVtcyA9IG5ldyBEYXRhU2V0KGV2ZW50cyk7CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIGhlaWdodDogaCwKICAgICAgICB3aWR0aDogIjEwMCUiLAogICAgICAgIGxvY2FsZTogImVuIiwKICAgICAgICBncm91cEhlaWdodE1vZGU6ICJmaXRJdGVtcyIsCiAgICAgICAgYXV0b1Jlc2l6ZTogZmFsc2UsCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgb3ZlcmZsb3dNZXRob2Q6ICJjYXAiLAogICAgICAgICAgdGVtcGxhdGU6IGZ1bmN0aW9uIHRlbXBsYXRlKGl0ZW0pIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBpdGVtLmRhdGEgfHwge307CiAgICAgICAgICAgIHZhciB0bXAgPSAiPGRpdj5JRDogIi5jb25jYXQoZGF0YS51dWlkIHx8ICIiLCAiPC9kaXY+XG4gICAgICAgIDxkaXY+TmFtZTogIikuY29uY2F0KGRhdGEubmFtZSB8fCAiIiwgIjwvZGl2PlxuICAgICAgICA8ZGl2PkV2ZW50IFR5cGU6ICIpLmNvbmNhdChkYXRhLnR5cGUgfHwgIiIsICI8L2Rpdj5cbiAgICAgICAgPGRpdj5TdGFydCBUaW1lOiAiKS5jb25jYXQoZGF0YS5zdGFydFRpbWUgPyB2aXNEYXRlKGRhdGEuc3RhcnRUaW1lKSA6ICIiLCAiPC9kaXY+XG4gICAgICAgIDxkaXY+RW5kIFRpbWU6ICIpLmNvbmNhdChkYXRhLmVuZFRpbWUgPyB2aXNEYXRlKGRhdGEuZW5kVGltZSkgOiAiIiwgIjwvZGl2PlxuICAgICAgICA8ZGl2Pk1lc3NhZ2U6ICIpLmNvbmNhdChkYXRhLm1lc3NhZ2UgfHwgIiIsICI8L2Rpdj5cbiAgICAgICAgPGRpdj5TZXJ2aWNlOiAiKS5jb25jYXQoZGF0YS5zb3VyY2Uuc2VydmljZSB8fCAiIiwgIjwvZGl2PiIpOwoKICAgICAgICAgICAgaWYgKGRhdGEuc291cmNlLmVuZHBvaW50KSB7CiAgICAgICAgICAgICAgdG1wICs9ICI8ZGl2PkVuZHBvaW50OiAiLmNvbmNhdChkYXRhLnNvdXJjZS5lbmRwb2ludCwgIjwvZGl2PiIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZGF0YS5zb3VyY2UuaW5zdGFuY2UpIHsKICAgICAgICAgICAgICB0bXAgKz0gIjxkaXY+U2VydmljZSBJbnN0YW5jZTogIi5jb25jYXQoZGF0YS5zb3VyY2UuaW5zdGFuY2UsICI8L2Rpdj4iKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHRtcDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIHZpc0dyYXBoLnZhbHVlID0gbmV3IFRpbWVsaW5lKHRpbWVsaW5lLnZhbHVlLCBpdGVtcywgb3B0aW9ucyk7CiAgICAgIHZpc0dyYXBoLnZhbHVlLm9uKCJzZWxlY3QiLCBmdW5jdGlvbiAocHJvcGVydGllcykgewogICAgICAgIGlmICghcHJvcHMuZGF0YS5ldmVudEFzc29jaWF0ZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgZGFzaGJvYXJkU3RvcmUuc2VsZWN0V2lkZ2V0KHByb3BzLmRhdGEpOwogICAgICAgIHZhciBkYXNoYm9hcmQgPSBnZXREYXNoYm9hcmQoZGFzaGJvYXJkU3RvcmUuY3VycmVudERhc2hib2FyZCkud2lkZ2V0czsKICAgICAgICBhc3NvY2lhdGVNZXRyaWNzKHByb3BlcnRpZXMuaXRlbXMsIGV2ZW50cywgZGFzaGJvYXJkKTsKICAgICAgICBhc3NvY2lhdGVUcmFjZUxvZyhwcm9wZXJ0aWVzLml0ZW1zLCBldmVudHMsIGRhc2hib2FyZCk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGFzc29jaWF0ZVRyYWNlTG9nKGl0ZW1zLCBldmVudHMsIGRhc2hib2FyZCkgewogICAgICB2YXIgd2lkZ2V0cyA9IGRhc2hib2FyZC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gWyJUcmFjZSIsICJMb2ciXS5pbmNsdWRlcyhkLnR5cGUpOwogICAgICB9KTsKICAgICAgdmFyIGluZGV4ID0gaXRlbXNbMF07CiAgICAgIHZhciBpID0gZXZlbnRzW2luZGV4IC0gMSB8fCAwXTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih3aWRnZXRzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHdpZGdldCA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmIChpc05hTihpbmRleCkpIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHdpZGdldCksIHt9LCB7CiAgICAgICAgICAgICAgZmlsdGVyczogewogICAgICAgICAgICAgICAgc291cmNlSWQ6IHByb3BzLmRhdGEuaWQgfHwgIiIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogbnVsbAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBkYXNoYm9hcmRTdG9yZS5zZXRXaWRnZXQoaXRlbSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgc3RlcCA9IGFwcFN0b3JlLmR1cmF0aW9uLnN0ZXA7CiAgICAgICAgICAgIHZhciBzdGFydCA9IGkuc3RhcnQ7CiAgICAgICAgICAgIHZhciBlbmQgPSBpLmVuZDsKCiAgICAgICAgICAgIGlmIChhcHBTdG9yZS5kdXJhdGlvbi5zdGVwID09PSAiTUlOVVRFIiAmJiBpLmVuZC5nZXRUaW1lKCkgLSBpLnN0YXJ0LmdldFRpbWUoKSA8IDYwMDAwKSB7CiAgICAgICAgICAgICAgc3RlcCA9ICJTRUNPTkQiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciB0aW1lcyA9IHNldEVuZFRpbWUoaS5zdGFydCwgaS5lbmQpOwogICAgICAgICAgICAgIHN0YXJ0ID0gdGltZXMuc3RhcnQ7CiAgICAgICAgICAgICAgZW5kID0gdGltZXMuZW5kOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgX2l0ZW0gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHdpZGdldCksIHt9LCB7CiAgICAgICAgICAgICAgZmlsdGVyczogewogICAgICAgICAgICAgICAgc291cmNlSWQ6IHByb3BzLmRhdGEuaWQgfHwgIiIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogewogICAgICAgICAgICAgICAgICBzdGFydDogZGF0ZUZvcm1hdFN0ZXAoZ2V0TG9jYWxUaW1lKGFwcFN0b3JlLnV0Yywgc3RhcnQpLCBzdGVwLCB0cnVlKSwKICAgICAgICAgICAgICAgICAgZW5kOiBkYXRlRm9ybWF0U3RlcChnZXRMb2NhbFRpbWUoYXBwU3RvcmUudXRjLCBlbmQpLCBzdGVwLCB0cnVlKSwKICAgICAgICAgICAgICAgICAgc3RlcDogc3RlcAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBkYXNoYm9hcmRTdG9yZS5zZXRXaWRnZXQoX2l0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYXNzb2NpYXRlTWV0cmljcyhpdGVtcywgZXZlbnRzLCBkYXNoYm9hcmQpIHsKICAgICAgdmFyIHdpZGdldHMgPSBkYXNoYm9hcmQuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgdmFyIGlzTGluZWFyID0gWyJCYXIiLCAiTGluZSIsICJBcmVhIl0uaW5jbHVkZXMoZC5ncmFwaCAmJiBkLmdyYXBoLnR5cGUgfHwgIiIpOwoKICAgICAgICBpZiAoaXNMaW5lYXIpIHsKICAgICAgICAgIHJldHVybiBkOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBpbmRleCA9IGl0ZW1zWzBdOwogICAgICB2YXIgaSA9IGV2ZW50c1tpbmRleCAtIDEgfHwgMF07CgogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHdpZGdldHMpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHdpZGdldCA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBpZiAoaXNOYU4oaW5kZXgpKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB3aWRnZXQpLCB7fSwgewogICAgICAgICAgICAgIGZpbHRlcnM6IHsKICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBkYXNoYm9hcmRTdG9yZS5zZWxlY3RlZEdyaWQuaWQgfHwgIiIsCiAgICAgICAgICAgICAgICBpc1JhbmdlOiB0cnVlLAogICAgICAgICAgICAgICAgZHVyYXRpb246IHsKICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBudWxsLAogICAgICAgICAgICAgICAgICBlbmRUaW1lOiBudWxsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGRhc2hib2FyZFN0b3JlLnNldFdpZGdldChpdGVtKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBfc2V0RW5kVGltZSA9IHNldEVuZFRpbWUoaS5zdGFydCwgaS5lbmQpLAogICAgICAgICAgICAgICAgc3RhcnQgPSBfc2V0RW5kVGltZS5zdGFydCwKICAgICAgICAgICAgICAgIGVuZCA9IF9zZXRFbmRUaW1lLmVuZDsKCiAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSBkYXRlRm9ybWF0VGltZShzdGFydCwgYXBwU3RvcmUuZHVyYXRpb24uc3RlcCk7CiAgICAgICAgICAgIHZhciBlbmRUaW1lID0gZGF0ZUZvcm1hdFRpbWUoZW5kLCBhcHBTdG9yZS5kdXJhdGlvbi5zdGVwKTsKCiAgICAgICAgICAgIHZhciBfaXRlbTIgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHdpZGdldCksIHt9LCB7CiAgICAgICAgICAgICAgZmlsdGVyczogewogICAgICAgICAgICAgICAgc291cmNlSWQ6IGRhc2hib2FyZFN0b3JlLnNlbGVjdGVkR3JpZC5pZCB8fCAiIiwKICAgICAgICAgICAgICAgIGlzUmFuZ2U6IHRydWUsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogewogICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSwKICAgICAgICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBkYXNoYm9hcmRTdG9yZS5zZXRXaWRnZXQoX2l0ZW0yKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc2V0RW5kVGltZShzdGFydCwgZW5kKSB7CiAgICAgIHZhciB0aW1lID0gZW5kOwogICAgICB2YXIgZGlmZiA9IDYwMDAwOwoKICAgICAgc3dpdGNoIChhcHBTdG9yZS5kdXJhdGlvbi5zdGVwKSB7CiAgICAgICAgY2FzZSAiTUlOVVRFIjoKICAgICAgICAgIGRpZmYgPSA2MDAwMDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJIT1VSIjoKICAgICAgICAgIGRpZmYgPSAzNjAwMDAwOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIkRBWSI6CiAgICAgICAgICBkaWZmID0gMzYwMDAwMCAqIDI0OwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmICghZW5kIHx8IGVuZC5nZXRUaW1lKCkgLSBzdGFydC5nZXRUaW1lKCkgPCBkaWZmKSB7CiAgICAgICAgdGltZSA9IHN0YXJ0LmdldFRpbWUoKSArIGRpZmY7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgIGVuZDogbmV3IERhdGUodGltZSkKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykgewogICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbMF07CiAgICAgICAgdmFyIGNyID0gZW50cnkuY29udGVudFJlY3Q7CgogICAgICAgIGlmIChNYXRoLmFicyhjci53aWR0aCAtIG9sZFZhbC52YWx1ZS53aWR0aCkgPCAzICYmIE1hdGguYWJzKGNyLmhlaWdodCAtIG9sZFZhbC52YWx1ZS5oZWlnaHQpIDwgMykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmlzVGltZWxpbmUoKTsKICAgICAgICBvbGRWYWwudmFsdWUgPSB7CiAgICAgICAgICB3aWR0aDogY3Iud2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IGNyLmhlaWdodAogICAgICAgIH07CiAgICAgIH0pOwoKICAgICAgaWYgKHRpbWVsaW5lLnZhbHVlKSB7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aW1lbGluZS52YWx1ZSk7CiAgICAgIH0KICAgIH0KCiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBldmVudFN0b3JlLmV2ZW50czsKICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgdmlzVGltZWxpbmUoKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUpIHsKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgIHJlZl9rZXk6ICJ0aW1lbGluZSIsCiAgICAgICAgcmVmOiB0aW1lbGluZSwKICAgICAgICBjbGFzczogImV2ZW50cyIKICAgICAgfSwgbnVsbCwgNTEyKTsKICAgIH07CiAgfQp9KTs="},null]}