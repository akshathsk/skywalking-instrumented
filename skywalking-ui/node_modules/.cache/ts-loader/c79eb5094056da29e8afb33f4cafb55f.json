{"remainingRequest":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js??ref--15-3!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/demand-log/Header.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/demand-log/Header.vue","mtime":1661850019000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/babel.config.js","mtime":1661850018000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1663881222784},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1663881222612},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1663881224500},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1663881224684},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1663881222784},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js","mtime":1663881224404}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9zazExNy9maW5hbC1wcm9qZWN0L2FwYWNoZS1za3l3YWxraW5nLWFwbS05LjIuMC9za3l3YWxraW5nLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zazExNy9maW5hbC1wcm9qZWN0L2FwYWNoZS1za3l3YWxraW5nLWFwbS05LjIuMC9za3l3YWxraW5nLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVucmVmIGFzIF91bnJlZiwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtMmZkYmUwMzYiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiZmxleC1oIHJvdyIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAibXItNSBtYi01Igp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImdyZXkgbXItNSIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAibXItNSBtYi01Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImdyZXkgbXItNSIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJtci01Igp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogImdyZXkgbXItNSIKfTsKdmFyIF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJtci01Igp9Owp2YXIgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogImdyZXkgbXItNSIKfTsKdmFyIF9ob2lzdGVkXzEwID0gewogIGNsYXNzOiAiZmxleC1oIHJvdyIKfTsKdmFyIF9ob2lzdGVkXzExID0gewogIGNsYXNzOiAibXItNSIKfTsKdmFyIF9ob2lzdGVkXzEyID0gewogIGNsYXNzOiAibXItNSBncmV5Igp9Owp2YXIgX2hvaXN0ZWRfMTMgPSB7CiAgY2xhc3M6ICJsb2ctdGFncyIKfTsKdmFyIF9ob2lzdGVkXzE0ID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF8xNSA9IHsKICBjbGFzczogIm1yLTUiCn07CnZhciBfaG9pc3RlZF8xNiA9IHsKICBjbGFzczogImdyZXkgbXItNSIKfTsKdmFyIF9ob2lzdGVkXzE3ID0gewogIGNsYXNzOiAibG9nLXRhZ3MiCn07CnZhciBfaG9pc3RlZF8xOCA9IFsib25DbGljayJdOwp2YXIgX2hvaXN0ZWRfMTkgPSB7CiAgY2xhc3M6ICJmbGV4LWggcm93IGJ0bi1yb3ciCn07CmltcG9ydCB7IHJlZiwgcmVhY3RpdmUsIHdhdGNoLCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gInZ1ZS1pMThuIjsKaW1wb3J0IHsgdXNlRGVtYW5kTG9nU3RvcmUgfSBmcm9tICJAL3N0b3JlL21vZHVsZXMvZGVtYW5kLWxvZyI7CmltcG9ydCB7IHVzZURhc2hib2FyZFN0b3JlIH0gZnJvbSAiQC9zdG9yZS9tb2R1bGVzL2Rhc2hib2FyZCI7CmltcG9ydCB7IHVzZUFwcFN0b3JlV2l0aE91dCB9IGZyb20gIkAvc3RvcmUvbW9kdWxlcy9hcHAiOwppbXBvcnQgeyB1c2VTZWxlY3RvclN0b3JlIH0gZnJvbSAiQC9zdG9yZS9tb2R1bGVzL3NlbGVjdG9ycyI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtcGx1cyI7CmltcG9ydCB7IEVudGl0eVR5cGUgfSBmcm9tICIuLi8uLi9kYXRhIjsKaW1wb3J0IHsgVGltZVJhbmdlcywgSW50ZXJ2YWxPcHRzIH0gZnJvbSAiLi9kYXRhIjsKaW1wb3J0IGdldExvY2FsVGltZSBmcm9tICJAL3V0aWxzL2xvY2FsdGltZSI7CmltcG9ydCBkYXRlRm9ybWF0U3RlcCBmcm9tICJAL3V0aWxzL2RhdGVGb3JtYXQiOwpleHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovX2RlZmluZUNvbXBvbmVudCh7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMpIHsKICAgIHZhciBfdXNlSTE4biA9IHVzZUkxOG4oKSwKICAgICAgICB0ID0gX3VzZUkxOG4udDsKCiAgICB2YXIgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZVdpdGhPdXQoKTsKICAgIHZhciBzZWxlY3RvclN0b3JlID0gdXNlU2VsZWN0b3JTdG9yZSgpOwogICAgdmFyIGRhc2hib2FyZFN0b3JlID0gdXNlRGFzaGJvYXJkU3RvcmUoKTsKICAgIHZhciBkZW1hbmRMb2dTdG9yZSA9IHVzZURlbWFuZExvZ1N0b3JlKCk7CiAgICB2YXIga2V5d29yZHNPZkNvbnRlbnQgPSByZWYoW10pOwogICAgdmFyIGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50ID0gcmVmKFtdKTsKICAgIHZhciBjb250ZW50U3RyID0gcmVmKCIiKTsKICAgIHZhciBleGNsdWRpbmdDb250ZW50U3RyID0gcmVmKCIiKTsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgaW5zdGFuY2U6IHsKICAgICAgICB2YWx1ZTogIiIsCiAgICAgICAgbGFiZWw6ICIiCiAgICAgIH0sCiAgICAgIGNvbnRhaW5lcjogewogICAgICAgIHZhbHVlOiAiIiwKICAgICAgICBsYWJlbDogIiIKICAgICAgfSwKICAgICAgZHVyYXRpb246IHsKICAgICAgICBsYWJlbDogIkZyb20gMzAgbWludXRlcyBhZ28iLAogICAgICAgIHZhbHVlOiAxODAwCiAgICAgIH0sCiAgICAgIGludGVydmFsOiB7CiAgICAgICAgbGFiZWw6ICIzMCBzZWNvbmRzIiwKICAgICAgICB2YWx1ZTogMzAKICAgICAgfQogICAgfSk7CiAgICB2YXIgZGlzYWJsZWQgPSByZWYodHJ1ZSk7CiAgICAvKmdsb2JhbCBOdWxsYWJsZSAqLwoKICAgIHZhciBpbnRlcnZhbEZuID0gcmVmKG51bGwpOwogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgZmV0Y2hTZWxlY3RvcnMoKTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIGZldGNoU2VsZWN0b3JzKCkgewogICAgICByZXR1cm4gX2ZldGNoU2VsZWN0b3JzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2ZldGNoU2VsZWN0b3JzKCkgewogICAgICBfZmV0Y2hTZWxlY3RvcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoZGFzaGJvYXJkU3RvcmUuZW50aXR5ICE9PSBFbnRpdHlUeXBlWzNdLnZhbHVlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SW5zdGFuY2VzKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGdldENvbnRhaW5lcnMoKTsKCiAgICAgICAgICAgICAgICBpZiAoaW50ZXJ2YWxGbi52YWx1ZSkgewogICAgICAgICAgICAgICAgICBjbGVhclRpbWVyKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CiAgICAgIHJldHVybiBfZmV0Y2hTZWxlY3RvcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDb250YWluZXJzKCkgewogICAgICByZXR1cm4gX2dldENvbnRhaW5lcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2V0Q29udGFpbmVycygpIHsKICAgICAgX2dldENvbnRhaW5lcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaW5zdGFuY2UuaWQgfHwgc2VsZWN0b3JTdG9yZS5jdXJyZW50UG9kICYmIHNlbGVjdG9yU3RvcmUuY3VycmVudFBvZC5pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbWFuZExvZ1N0b3JlLmdldENvbnRhaW5lcnMoc3RhdGUuaW5zdGFuY2UuaWQgfHwgc2VsZWN0b3JTdG9yZS5jdXJyZW50UG9kLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcC5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkaXNhYmxlZC52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IocmVzcC5lcnJvcnMpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAoIXJlc3AuZGF0YS5jb250YWluZXJzLmVycm9yUmVhc29uKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRpc2FibGVkLnZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKHJlc3AuZGF0YS5jb250YWluZXJzLmVycm9yUmVhc29uKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmIChkZW1hbmRMb2dTdG9yZS5jb250YWluZXJzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBzdGF0ZS5jb250YWluZXIgPSBkZW1hbmRMb2dTdG9yZS5jb250YWluZXJzWzBdOwogICAgICAgICAgICAgICAgICBkaXNhYmxlZC52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX2dldENvbnRhaW5lcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRJbnN0YW5jZXMoKSB7CiAgICAgIHJldHVybiBfZ2V0SW5zdGFuY2VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dldEluc3RhbmNlcygpIHsKICAgICAgX2dldEluc3RhbmNlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBkZW1hbmRMb2dTdG9yZS5nZXRJbnN0YW5jZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcC5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IocmVzcC5lcnJvcnMpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBzdGF0ZS5pbnN0YW5jZSA9IGRlbWFuZExvZ1N0b3JlLmluc3RhbmNlc1swXTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX2dldEluc3RhbmNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJ1bkludGVydmFsKCkgewogICAgICBpZiAoaW50ZXJ2YWxGbi52YWx1ZSkgewogICAgICAgIGNsZWFyVGltZXIoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHNlYXJjaExvZ3MoKTsKCiAgICAgIGlmIChzdGF0ZS5pbnRlcnZhbC52YWx1ZSA9PT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaW50ZXJ2YWxGbi52YWx1ZSA9IHNldEludGVydmFsKHNlYXJjaExvZ3MsIHN0YXRlLmludGVydmFsLnZhbHVlICogMTAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGNsZWFyVGltZXIoKTsKICAgICAgfSwgc3RhdGUuZHVyYXRpb24udmFsdWUgKiAxMDAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZWFyY2hMb2dzKCkgewogICAgICB2YXIgaW5zdGFuY2UgPSAiIjsKCiAgICAgIGlmIChkYXNoYm9hcmRTdG9yZS5lbnRpdHkgPT09IEVudGl0eVR5cGVbM10udmFsdWUpIHsKICAgICAgICBpbnN0YW5jZSA9IHNlbGVjdG9yU3RvcmUuY3VycmVudFBvZC5pZDsKICAgICAgfQoKICAgICAgdmFyIHNlcnZpY2VJbnN0YW5jZUlkID0gaW5zdGFuY2UgfHwgc3RhdGUuaW5zdGFuY2UgJiYgc3RhdGUuaW5zdGFuY2UuaWQgfHwgIiI7CiAgICAgIGRlbWFuZExvZ1N0b3JlLnNldExvZ0NvbmRpdGlvbih7CiAgICAgICAgc2VydmljZUluc3RhbmNlSWQ6IHNlcnZpY2VJbnN0YW5jZUlkLAogICAgICAgIGNvbnRhaW5lcjogc3RhdGUuY29udGFpbmVyLnZhbHVlLAogICAgICAgIGR1cmF0aW9uOiByYW5nZVRpbWUoKSwKICAgICAgICBrZXl3b3Jkc09mQ29udGVudDoga2V5d29yZHNPZkNvbnRlbnQudmFsdWUubGVuZ3RoID8ga2V5d29yZHNPZkNvbnRlbnQudmFsdWUgOiB1bmRlZmluZWQsCiAgICAgICAgZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQ6IGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50LnZhbHVlLmxlbmd0aCA/IGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50LnZhbHVlIDogdW5kZWZpbmVkCiAgICAgIH0pOwoKICAgICAgaWYgKCFzZXJ2aWNlSW5zdGFuY2VJZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgcXVlcnlMb2dzKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmFuZ2VUaW1lKCkgewogICAgICB7CiAgICAgICAgdmFyIHRpbWVzID0gewogICAgICAgICAgc3RhcnQ6IGdldExvY2FsVGltZShhcHBTdG9yZS51dGMsIG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhdGUuZHVyYXRpb24udmFsdWUgKiAxMDAwKSksCiAgICAgICAgICBlbmQ6IGdldExvY2FsVGltZShhcHBTdG9yZS51dGMsIG5ldyBEYXRlKCkpLAogICAgICAgICAgc3RlcDogIlNFQ09ORCIKICAgICAgICB9OwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzdGFydDogZGF0ZUZvcm1hdFN0ZXAodGltZXMuc3RhcnQsIHRpbWVzLnN0ZXAsIGZhbHNlKSwKICAgICAgICAgIGVuZDogZGF0ZUZvcm1hdFN0ZXAodGltZXMuZW5kLCB0aW1lcy5zdGVwLCBmYWxzZSksCiAgICAgICAgICBzdGVwOiB0aW1lcy5zdGVwCiAgICAgICAgfTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHF1ZXJ5TG9ncygpIHsKICAgICAgcmV0dXJuIF9xdWVyeUxvZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfcXVlcnlMb2dzKCkgewogICAgICBfcXVlcnlMb2dzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVtYW5kTG9nU3RvcmUuZ2V0RGVtYW5kTG9ncygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlcy5lcnJvcnMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSk7CiAgICAgIHJldHVybiBfcXVlcnlMb2dzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gY2hhbmdlRmllbGQodHlwZSwgb3B0KSB7CiAgICAgIGNsZWFyVGltZXIoKTsgLy8gaWYgKFsibGltaXQiXS5pbmNsdWRlcyh0eXBlKSkgewogICAgICAvLyAgIHN0YXRlW3R5cGVdID0gb3B0OwogICAgICAvLyAgIHJldHVybjsKICAgICAgLy8gfQoKICAgICAgc3RhdGVbdHlwZV0gPSBvcHRbMF07CgogICAgICBpZiAodHlwZSA9PT0gImluc3RhbmNlIikgewogICAgICAgIGdldENvbnRhaW5lcnMoKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUNvbnRlbnQoaW5kZXgpIHsKICAgICAgdmFyIGtleXdvcmRzT2ZDb250ZW50TGlzdCA9IGtleXdvcmRzT2ZDb250ZW50LnZhbHVlIHx8IFtdOwogICAgICBrZXl3b3Jkc09mQ29udGVudExpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgZGVtYW5kTG9nU3RvcmUuc2V0TG9nQ29uZGl0aW9uKHsKICAgICAgICBrZXl3b3Jkc09mQ29udGVudDoga2V5d29yZHNPZkNvbnRlbnRMaXN0CiAgICAgIH0pOwogICAgICBjb250ZW50U3RyLnZhbHVlID0gIiI7CiAgICAgIGNsZWFyVGltZXIoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRMYWJlbHModHlwZSkgewogICAgICBpZiAodHlwZSA9PT0gImtleXdvcmRzT2ZDb250ZW50IiAmJiAhY29udGVudFN0ci52YWx1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHR5cGUgPT09ICJleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudCIgJiYgIWV4Y2x1ZGluZ0NvbnRlbnRTdHIudmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0eXBlID09PSAia2V5d29yZHNPZkNvbnRlbnQiKSB7CiAgICAgICAga2V5d29yZHNPZkNvbnRlbnQudmFsdWUucHVzaChjb250ZW50U3RyLnZhbHVlKTsKICAgICAgICBkZW1hbmRMb2dTdG9yZS5zZXRMb2dDb25kaXRpb24oX2RlZmluZVByb3BlcnR5KHt9LCB0eXBlLCBrZXl3b3Jkc09mQ29udGVudC52YWx1ZSkpOwogICAgICAgIGNvbnRlbnRTdHIudmFsdWUgPSAiIjsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQiKSB7CiAgICAgICAgZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQudmFsdWUucHVzaChleGNsdWRpbmdDb250ZW50U3RyLnZhbHVlKTsKICAgICAgICBkZW1hbmRMb2dTdG9yZS5zZXRMb2dDb25kaXRpb24oX2RlZmluZVByb3BlcnR5KHt9LCB0eXBlLCBleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudC52YWx1ZSkpOwogICAgICAgIGV4Y2x1ZGluZ0NvbnRlbnRTdHIudmFsdWUgPSAiIjsKICAgICAgfQoKICAgICAgY2xlYXJUaW1lcigpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUV4Y2x1ZGVDb250ZW50KGluZGV4KSB7CiAgICAgIGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50LnZhbHVlLnNwbGljZShpbmRleCwgMSk7CiAgICAgIGRlbWFuZExvZ1N0b3JlLnNldExvZ0NvbmRpdGlvbih7CiAgICAgICAgZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQ6IGV4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50LnZhbHVlCiAgICAgIH0pOwogICAgICBleGNsdWRpbmdDb250ZW50U3RyLnZhbHVlID0gIiI7CiAgICAgIGNsZWFyVGltZXIoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjbGVhclRpbWVyKCkgewogICAgICBpZiAoIWludGVydmFsRm4udmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxGbi52YWx1ZSk7CiAgICAgIGludGVydmFsRm4udmFsdWUgPSBudWxsOwogICAgfQoKICAgIG9uVW5tb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgY2xlYXJUaW1lcigpOwogICAgfSk7CiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzZWxlY3RvclN0b3JlLmN1cnJlbnRTZXJ2aWNlOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoZGFzaGJvYXJkU3RvcmUuZW50aXR5ID09PSBFbnRpdHlUeXBlWzBdLnZhbHVlKSB7CiAgICAgICAgZmV0Y2hTZWxlY3RvcnMoKTsKICAgICAgICBkZW1hbmRMb2dTdG9yZS5zZXRMb2dzKCIiKTsKICAgICAgfQogICAgfSk7CiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbc2VsZWN0b3JTdG9yZS5jdXJyZW50UG9kXTsKICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGRhc2hib2FyZFN0b3JlLmVudGl0eSA9PT0gRW50aXR5VHlwZVszXS52YWx1ZSkgewogICAgICAgIGZldGNoU2VsZWN0b3JzKCk7CiAgICAgICAgZGVtYW5kTG9nU3RvcmUuc2V0TG9ncygiIik7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUpIHsKICAgICAgdmFyIF9jb21wb25lbnRfU2VsZWN0b3IgPSBfcmVzb2x2ZUNvbXBvbmVudCgiU2VsZWN0b3IiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CgogICAgICB2YXIgX2NvbXBvbmVudF9JY29uID0gX3Jlc29sdmVDb21wb25lbnQoIkljb24iKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW191bnJlZihkYXNoYm9hcmRTdG9yZSkuZW50aXR5ICE9PSBfdW5yZWYoRW50aXR5VHlwZSlbM10udmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzMsIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJpbnN0YW5jZSIpKSArICI6ICIsIDEpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZWxlY3RvciwgewogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgdmFsdWU6IF91bnJlZihzdGF0ZSkuaW5zdGFuY2UudmFsdWUsCiAgICAgICAgb3B0aW9uczogX3VucmVmKGRlbWFuZExvZ1N0b3JlKS5pbnN0YW5jZXMsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJTZWxlY3QgYSBpbnN0YW5jZSIsCiAgICAgICAgb25DaGFuZ2U6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGNoYW5nZUZpZWxkKCdpbnN0YW5jZScsICRldmVudCk7CiAgICAgICAgfSksCiAgICAgICAgY2xhc3M6ICJzZWxlY3RvcnMiCiAgICAgIH0sIG51bGwsIDgsIFsidmFsdWUiLCAib3B0aW9ucyJdKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBfdW5yZWYoc3RhdGUpLmNvbnRhaW5lciA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNSwgX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoImNvbnRhaW5lciIpKSArICI6IiwgMSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X1NlbGVjdG9yLCB7CiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICB2YWx1ZTogX3VucmVmKHN0YXRlKS5jb250YWluZXIudmFsdWUsCiAgICAgICAgb3B0aW9uczogX3VucmVmKGRlbWFuZExvZ1N0b3JlKS5jb250YWluZXJzLAogICAgICAgIHBsYWNlaG9sZGVyOiAiU2VsZWN0IGEgY29udGFpbmVyIiwKICAgICAgICBvbkNoYW5nZTogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gY2hhbmdlRmllbGQoJ2NvbnRhaW5lcicsICRldmVudCk7CiAgICAgICAgfSksCiAgICAgICAgY2xhc3M6ICJzZWxlY3RvcnMiCiAgICAgIH0sIG51bGwsIDgsIFsidmFsdWUiLCAib3B0aW9ucyJdKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzcsIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJkdXJhdGlvbiIpKSArICI6IiwgMSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X1NlbGVjdG9yLCB7CiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICB2YWx1ZTogX3VucmVmKHN0YXRlKS5kdXJhdGlvbi52YWx1ZSwKICAgICAgICBvcHRpb25zOiBfdW5yZWYoVGltZVJhbmdlcyksCiAgICAgICAgcGxhY2Vob2xkZXI6ICJTZWxlY3QgYSB0aW1lIHJhbmdlIiwKICAgICAgICBvbkNoYW5nZTogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gY2hhbmdlRmllbGQoJ2R1cmF0aW9uJywgJGV2ZW50KTsKICAgICAgICB9KSwKICAgICAgICBjbGFzczogImR1cmF0aW9uLXJhbmdlIgogICAgICB9LCBudWxsLCA4LCBbInZhbHVlIiwgIm9wdGlvbnMiXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF85LCBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgiaW50ZXJ2YWwiKSkgKyAiOiIsIDEpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZWxlY3RvciwgewogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgdmFsdWU6IF91bnJlZihzdGF0ZSkuaW50ZXJ2YWwudmFsdWUsCiAgICAgICAgb3B0aW9uczogX3VucmVmKEludGVydmFsT3B0cyksCiAgICAgICAgb25DaGFuZ2U6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIGNoYW5nZUZpZWxkKCdpbnRlcnZhbCcsICRldmVudCk7CiAgICAgICAgfSkKICAgICAgfSwgbnVsbCwgOCwgWyJ2YWx1ZSIsICJvcHRpb25zIl0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTAsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8xMiwgX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoImtleXdvcmRzT2ZDb250ZW50IikpICsgIjoiLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzEzLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChrZXl3b3Jkc09mQ29udGVudC52YWx1ZSwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIHsKICAgICAgICAgIGNsYXNzOiAic2VsZWN0ZWQiLAogICAgICAgICAga2V5OiAia2V5d29yZHNPZkNvbnRlbnQiLmNvbmNhdChpbmRleCkKICAgICAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoaXRlbSksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAgICAgY2xhc3M6ICJyZW1vdmUtaWNvbiIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gcmVtb3ZlQ29udGVudChpbmRleCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgIsOXIiwgOCwgX2hvaXN0ZWRfMTQpXSk7CiAgICAgIH0pLCAxMjgpKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgY2xhc3M6ICJpbnB1dHMtbWF4IiwKICAgICAgICBwbGFjZWhvbGRlcjogX3VucmVmKHQpKCdhZGRLZXl3b3Jkc09mQ29udGVudCcpLAogICAgICAgIG1vZGVsVmFsdWU6IGNvbnRlbnRTdHIudmFsdWUsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBjb250ZW50U3RyLnZhbHVlID0gJGV2ZW50OwogICAgICAgIH0pLAogICAgICAgIG9uQ2hhbmdlOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBhZGRMYWJlbHMoJ2tleXdvcmRzT2ZDb250ZW50Jyk7CiAgICAgICAgfSkKICAgICAgfSwgbnVsbCwgOCwgWyJwbGFjZWhvbGRlciIsICJtb2RlbFZhbHVlIl0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE1LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzE2LCBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZih0KSgiZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQiKSkgKyAiOiAiLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzE3LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChleGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudC52YWx1ZSwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIHsKICAgICAgICAgIGNsYXNzOiAic2VsZWN0ZWQiLAogICAgICAgICAga2V5OiAiZXhjbHVkaW5nS2V5d29yZHNPZkNvbnRlbnQiLmNvbmNhdChpbmRleCkKICAgICAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoaXRlbSksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAgICAgY2xhc3M6ICJyZW1vdmUtaWNvbiIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gcmVtb3ZlRXhjbHVkZUNvbnRlbnQoaW5kZXgpOwogICAgICAgICAgfQogICAgICAgIH0sICIgw5cgIiwgOCwgX2hvaXN0ZWRfMTgpXSk7CiAgICAgIH0pLCAxMjgpKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgIGNsYXNzOiAiaW5wdXRzLW1heCIsCiAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICBwbGFjZWhvbGRlcjogX3VucmVmKHQpKCdhZGRFeGNsdWRpbmdLZXl3b3Jkc09mQ29udGVudCcpLAogICAgICAgIG1vZGVsVmFsdWU6IGV4Y2x1ZGluZ0NvbnRlbnRTdHIudmFsdWUsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNl0gfHwgKF9jYWNoZVs2XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBleGNsdWRpbmdDb250ZW50U3RyLnZhbHVlID0gJGV2ZW50OwogICAgICAgIH0pLAogICAgICAgIG9uQ2hhbmdlOiBfY2FjaGVbN10gfHwgKF9jYWNoZVs3XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBhZGRMYWJlbHMoJ2V4Y2x1ZGluZ0tleXdvcmRzT2ZDb250ZW50Jyk7CiAgICAgICAgfSkKICAgICAgfSwgbnVsbCwgOCwgWyJwbGFjZWhvbGRlciIsICJtb2RlbFZhbHVlIl0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTksIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICBjbGFzczogInNlYXJjaC1idG4gbXQtMTAiLAogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgIG9uQ2xpY2s6IHJ1bkludGVydmFsLAogICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZC52YWx1ZQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7CiAgICAgICAgICAgIHNpemU6ICJtaWRkbGUiLAogICAgICAgICAgICBpY29uTmFtZTogInJldHJ5IiwKICAgICAgICAgICAgbG9hZGluZzogISFpbnRlcnZhbEZuLnZhbHVlLAogICAgICAgICAgICBjbGFzczogIm1yLTUiCiAgICAgICAgICB9LCBudWxsLCA4LCBbImxvYWRpbmciXSksIF9jcmVhdGVUZXh0Vk5vZGUoIiAiICsgX3RvRGlzcGxheVN0cmluZyhpbnRlcnZhbEZuLnZhbHVlID8gX3VucmVmKHQpKCJwYXVzZSIpIDogX3VucmVmKHQpKCJzdGFydCIpKSwgMSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSwgOCwgWyJkaXNhYmxlZCJdKV0pXSwgNjQpOwogICAgfTsKICB9Cn0pOw=="},null]}