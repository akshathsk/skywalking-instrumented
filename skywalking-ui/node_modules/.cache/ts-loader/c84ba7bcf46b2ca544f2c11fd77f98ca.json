{"remainingRequest":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js??ref--15-3!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/eslint-loader/index.js??ref--14-0!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/utils/trace-table.ts","dependencies":[{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/utils/trace-table.ts","mtime":1661850019000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/babel.config.js","mtime":1661850018000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1663881222784},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1663881222612},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1663881224500},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1663881224684},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/eslint-loader/index.js","mtime":1663881222992}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvYXBhY2hlLXNreXdhbGtpbmctYXBtLTkuMi4wL3NreXdhbGtpbmctdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvYXBhY2hlLXNreXdhbGtpbmctYXBtLTkuMi4wL3NreXdhbGtpbmctdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvc2sxMTcvZmluYWwtcHJvamVjdC9hcGFjaGUtc2t5d2Fsa2luZy1hcG0tOS4yLjAvc2t5d2Fsa2luZy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvc2sxMTcvZmluYWwtcHJvamVjdC9hcGFjaGUtc2t5d2Fsa2luZy1hcG0tOS4yLjAvc2t5d2Fsa2luZy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL3NrMTE3L2ZpbmFsLXByb2plY3QvYXBhY2hlLXNreXdhbGtpbmctYXBtLTkuMi4wL3NreXdhbGtpbmctdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CgovKioKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZSBvciBtb3JlCiAqIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuCiAqIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlIHRvIFlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wCiAqICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoCiAqIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwppbXBvcnQgbG9kYXNoIGZyb20gImxvZGFzaCI7Cgp2YXIgVHJhY2VVdGlsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBUcmFjZVV0aWwoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhY2VVdGlsKTsKICB9CgogIF9jcmVhdGVDbGFzcyhUcmFjZVV0aWwsIG51bGwsIFt7CiAgICBrZXk6ICJidWlsZFRyYWNlRGF0YUxpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkVHJhY2VEYXRhTGlzdChkYXRhKSB7CiAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoZGF0YS5tYXAoZnVuY3Rpb24gKHNwYW4pIHsKICAgICAgICByZXR1cm4gc3Bhbi5zZXJ2aWNlQ29kZTsKICAgICAgfSkpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaGFuZ2VUcmVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VUcmVlKGRhdGEsIGN1cmVlbnRUcmFjZUlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc2VnbWVudElkTGlzdCA9IFtdOwogICAgICB2YXIgdHJhY2VUcmVlUmVmID0gdGhpcy5jaGFuZ2VUcmVlQ29yZShkYXRhKTsKICAgICAgdHJhY2VUcmVlUmVmLnNlZ21lbnRJZEdyb3VwLmZvckVhY2goZnVuY3Rpb24gKHNlZ21lbnRJZCkgewogICAgICAgIGlmICh0cmFjZVRyZWVSZWYuc2VnbWVudE1hcC5nZXQoc2VnbWVudElkKS5yZWZzKSB7CiAgICAgICAgICB0cmFjZVRyZWVSZWYuc2VnbWVudE1hcC5nZXQoc2VnbWVudElkKS5yZWZzLmZvckVhY2goZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICBpZiAocmVmLnRyYWNlSWQgPT09IGN1cmVlbnRUcmFjZUlkKSB7CiAgICAgICAgICAgICAgX3RoaXMudHJhdmVyc2VUcmVlKHRyYWNlVHJlZVJlZi5zZWdtZW50TWFwLmdldChyZWYucGFyZW50U2VnbWVudElkKSwgcmVmLnBhcmVudFNwYW5JZCwgcmVmLnBhcmVudFNlZ21lbnRJZCwgdHJhY2VUcmVlUmVmLnNlZ21lbnRNYXAuZ2V0KHNlZ21lbnRJZCkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBzZXQgYSBicmVha3BvaW50IGF0IHRoaXMgbGluZQoKICAgICAgdHJhY2VUcmVlUmVmLnNlZ21lbnRNYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUucmVmcyAmJiB2YWx1ZS5yZWZzLmxlbmd0aCA9PT0gMCB8fCAhdmFsdWUucmVmcykgewogICAgICAgICAgc2VnbWVudElkTGlzdC5wdXNoKHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBzZWdtZW50SWRMaXN0LmZvckVhY2goZnVuY3Rpb24gKHNlZ21lbnRJZCkgewogICAgICAgIF90aGlzLmNvbGxhcHNlKHNlZ21lbnRJZCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gc2VnbWVudElkTGlzdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaGFuZ2VTdGF0aXN0aWNzVHJlZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlU3RhdGlzdGljc1RyZWUoZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQgPSBuZXcgTWFwKCk7CiAgICAgIHZhciB0cmFjZVRyZWVSZWYgPSB0aGlzLmNoYW5nZVRyZWVDb3JlKGRhdGEpOwogICAgICB0cmFjZVRyZWVSZWYuc2VnbWVudE1hcC5mb3JFYWNoKGZ1bmN0aW9uIChzcGFuKSB7CiAgICAgICAgdmFyIGdyb3VwUmVmID0gc3Bhbi5lbmRwb2ludE5hbWUgKyAiOiIgKyBzcGFuLnR5cGU7CgogICAgICAgIGlmIChzcGFuLmNoaWxkcmVuICYmIHNwYW4uY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgICAgX3RoaXMyLmNhbGN1bGF0aW9uQ2hpbGRyZW4oc3Bhbi5jaGlsZHJlbiwgcmVzdWx0KTsKCiAgICAgICAgICBfdGhpczIuY29sbGFwc2Uoc3Bhbik7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzdWx0LmdldChncm91cFJlZikgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmVzdWx0LnNldChncm91cFJlZiwgW10pOwogICAgICAgICAgcmVzdWx0LmdldChncm91cFJlZikucHVzaChzcGFuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzdWx0LmdldChncm91cFJlZikucHVzaChzcGFuKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH0sIHsKICAgIGtleTogImNoYW5nZVRyZWVDb3JlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VUcmVlQ29yZShkYXRhKSB7CiAgICAgIC8vIHNldCBhIGJyZWFrcG9pbnQgYXQgdGhpcyBsaW5lCiAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzZWdtZW50TWFwOiBuZXcgTWFwKCksCiAgICAgICAgICBzZWdtZW50SWRHcm91cDogW10KICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgc2VnbWVudEdyb3VwID0ge307CiAgICAgIHZhciBzZWdtZW50TWFwID0gbmV3IE1hcCgpOwogICAgICB2YXIgc2VnbWVudElkR3JvdXAgPSBbXTsKICAgICAgdmFyIGZpeFNwYW5zID0gW107CiAgICAgIHZhciBzZWdtZW50SGVhZGVycyA9IFtdOwogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHNwYW4pIHsKICAgICAgICBpZiAoc3Bhbi5wYXJlbnRTcGFuSWQgPT09IC0xKSB7CiAgICAgICAgICBzZWdtZW50SGVhZGVycy5wdXNoKHNwYW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaW5kZXggPSBkYXRhLmZpbmRJbmRleChmdW5jdGlvbiAocGF0Y2hTcGFuKSB7CiAgICAgICAgICAgIHJldHVybiBwYXRjaFNwYW4uc2VnbWVudElkID09PSBzcGFuLnNlZ21lbnRJZCAmJiBwYXRjaFNwYW4uc3BhbklkID09PSBzcGFuLnNwYW5JZCAtIDE7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBmaXhTcGFuS2V5Q29udGVudCA9IHsKICAgICAgICAgICAgdHJhY2VJZDogc3Bhbi50cmFjZUlkLAogICAgICAgICAgICBzZWdtZW50SWQ6IHNwYW4uc2VnbWVudElkLAogICAgICAgICAgICBzcGFuSWQ6IHNwYW4uc3BhbklkIC0gMSwKICAgICAgICAgICAgcGFyZW50U3BhbklkOiBzcGFuLnNwYW5JZCAtIDIKICAgICAgICAgIH07CgogICAgICAgICAgaWYgKGluZGV4ID09PSAtMSAmJiAhbG9kYXNoLmZpbmQoZml4U3BhbnMsIGZpeFNwYW5LZXlDb250ZW50KSkgewogICAgICAgICAgICBmaXhTcGFucy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZml4U3BhbktleUNvbnRlbnQpLCB7fSwgewogICAgICAgICAgICAgIHJlZnM6IFtdLAogICAgICAgICAgICAgIGVuZHBvaW50TmFtZTogIlZOb2RlOiAiLmNvbmNhdChzcGFuLnNlZ21lbnRJZCksCiAgICAgICAgICAgICAgc2VydmljZUNvZGU6ICJWaXJ0dWFsTm9kZSIsCiAgICAgICAgICAgICAgdHlwZTogIltCcm9rZW5dICIuY29uY2F0KHNwYW4udHlwZSksCiAgICAgICAgICAgICAgcGVlcjogIiIsCiAgICAgICAgICAgICAgY29tcG9uZW50OiAiVmlydHVhbE5vZGU6ICMiLmNvbmNhdChzcGFuLnNwYW5JZCAtIDEpLAogICAgICAgICAgICAgIGlzRXJyb3I6IHRydWUsCiAgICAgICAgICAgICAgaXNCcm9rZW46IHRydWUsCiAgICAgICAgICAgICAgbGF5ZXI6ICJCcm9rZW4iLAogICAgICAgICAgICAgIHRhZ3M6IFtdLAogICAgICAgICAgICAgIGxvZ3M6IFtdLAogICAgICAgICAgICAgIHN0YXJ0VGltZTogMCwKICAgICAgICAgICAgICBlbmRUaW1lOiAwCiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBzZWdtZW50SGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChzcGFuKSB7CiAgICAgICAgaWYgKHNwYW4ucmVmcyAmJiBzcGFuLnJlZnMubGVuZ3RoKSB7CiAgICAgICAgICBzcGFuLnJlZnMuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgICAgIHZhciBpbmRleCA9IGRhdGEuZmluZEluZGV4KGZ1bmN0aW9uIChwYXRjaFNwYW4pIHsKICAgICAgICAgICAgICByZXR1cm4gcmVmLnBhcmVudFNlZ21lbnRJZCA9PT0gcGF0Y2hTcGFuLnNlZ21lbnRJZCAmJiByZWYucGFyZW50U3BhbklkID09PSBwYXRjaFNwYW4uc3BhbklkOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBrbm93biBicm9rZW4gbm9kZS4KICAgICAgICAgICAgICB2YXIgcGFyZW50U3BhbklkID0gcmVmLnBhcmVudFNwYW5JZDsKICAgICAgICAgICAgICB2YXIgZml4U3BhbktleUNvbnRlbnQgPSB7CiAgICAgICAgICAgICAgICB0cmFjZUlkOiByZWYudHJhY2VJZCwKICAgICAgICAgICAgICAgIHNlZ21lbnRJZDogcmVmLnBhcmVudFNlZ21lbnRJZCwKICAgICAgICAgICAgICAgIHNwYW5JZDogcGFyZW50U3BhbklkLAogICAgICAgICAgICAgICAgcGFyZW50U3BhbklkOiBwYXJlbnRTcGFuSWQgPiAtMSA/IDAgOiAtMQogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGlmIChsb2Rhc2guZmluZChmaXhTcGFucywgZml4U3BhbktleUNvbnRlbnQpKSB7CiAgICAgICAgICAgICAgICBmaXhTcGFucy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZml4U3BhbktleUNvbnRlbnQpLCB7fSwgewogICAgICAgICAgICAgICAgICByZWZzOiBbXSwKICAgICAgICAgICAgICAgICAgZW5kcG9pbnROYW1lOiAiVk5vZGU6ICIuY29uY2F0KHJlZi5wYXJlbnRTZWdtZW50SWQpLAogICAgICAgICAgICAgICAgICBzZXJ2aWNlQ29kZTogIlZpcnR1YWxOb2RlIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIltCcm9rZW5dICIuY29uY2F0KHJlZi50eXBlKSwKICAgICAgICAgICAgICAgICAgcGVlcjogIiIsCiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogIlZpcnR1YWxOb2RlOiAjIi5jb25jYXQocGFyZW50U3BhbklkKSwKICAgICAgICAgICAgICAgICAgaXNFcnJvcjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgaXNCcm9rZW46IHRydWUsCiAgICAgICAgICAgICAgICAgIGxheWVyOiAiQnJva2VuIiwKICAgICAgICAgICAgICAgICAgdGFnczogW10sCiAgICAgICAgICAgICAgICAgIGxvZ3M6IFtdLAogICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IDAsCiAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IDAKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICB9IC8vIGlmIHJvb3QgYnJva2VuIG5vZGUgaXMgbm90IGV4aXN0LCBjcmVhdGUgYSByb290IGJyb2tlbiBub2RlLgoKCiAgICAgICAgICAgICAgaWYgKGZpeFNwYW5LZXlDb250ZW50LnBhcmVudFNwYW5JZCA+IC0xKSB7CiAgICAgICAgICAgICAgICB2YXIgZml4Um9vdFNwYW5LZXlDb250ZW50ID0gewogICAgICAgICAgICAgICAgICB0cmFjZUlkOiByZWYudHJhY2VJZCwKICAgICAgICAgICAgICAgICAgc2VnbWVudElkOiByZWYucGFyZW50U2VnbWVudElkLAogICAgICAgICAgICAgICAgICBzcGFuSWQ6IDAsCiAgICAgICAgICAgICAgICAgIHBhcmVudFNwYW5JZDogLTEKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKCFsb2Rhc2guZmluZChmaXhTcGFucywgZml4Um9vdFNwYW5LZXlDb250ZW50KSkgewogICAgICAgICAgICAgICAgICBmaXhTcGFucy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZml4Um9vdFNwYW5LZXlDb250ZW50KSwge30sIHsKICAgICAgICAgICAgICAgICAgICByZWZzOiBbXSwKICAgICAgICAgICAgICAgICAgICBlbmRwb2ludE5hbWU6ICJWTm9kZTogIi5jb25jYXQocmVmLnBhcmVudFNlZ21lbnRJZCksCiAgICAgICAgICAgICAgICAgICAgc2VydmljZUNvZGU6ICJWaXJ0dWFsTm9kZSIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIltCcm9rZW5dICIuY29uY2F0KHJlZi50eXBlKSwKICAgICAgICAgICAgICAgICAgICBwZWVyOiAiIiwKICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICJWaXJ0dWFsTm9kZTogIzAiLAogICAgICAgICAgICAgICAgICAgIGlzRXJyb3I6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaXNCcm9rZW46IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICJCcm9rZW4iLAogICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtdLAogICAgICAgICAgICAgICAgICAgIGxvZ3M6IFtdLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogMCwKICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiAwCiAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIFtdLmNvbmNhdChmaXhTcGFucywgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEpKS5mb3JFYWNoKGZ1bmN0aW9uIChmaXhTcGFuKSB7CiAgICAgICAgZml4U3Bhbi5sYWJlbCA9IGZpeFNwYW4uZW5kcG9pbnROYW1lIHx8ICJubyBvcGVyYXRpb24gbmFtZSI7CiAgICAgICAgZml4U3Bhbi5jaGlsZHJlbiA9IFtdOwogICAgICAgIHZhciBpZCA9IGZpeFNwYW4uc2VnbWVudElkIHx8ICJ0b3AiOwoKICAgICAgICBpZiAoc2VnbWVudEdyb3VwW2lkXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBzZWdtZW50SWRHcm91cC5wdXNoKGlkKTsKICAgICAgICAgIHNlZ21lbnRHcm91cFtpZF0gPSBbXTsKICAgICAgICAgIHNlZ21lbnRHcm91cFtpZF0ucHVzaChmaXhTcGFuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VnbWVudEdyb3VwW2lkXS5wdXNoKGZpeFNwYW4pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHNlZ21lbnRJZEdyb3VwLmZvckVhY2goZnVuY3Rpb24gKHNlZ21lbnRJZCkgewogICAgICAgIHZhciBjdXJyZW50U2VnbWVudFNldCA9IHNlZ21lbnRHcm91cFtzZWdtZW50SWRdLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBiLnBhcmVudFNwYW5JZCAtIGEucGFyZW50U3BhbklkOwogICAgICAgIH0pOwogICAgICAgIGN1cnJlbnRTZWdtZW50U2V0LmZvckVhY2goZnVuY3Rpb24gKGN1clNlZ21lbnQpIHsKICAgICAgICAgIHZhciBpbmRleCA9IGN1cnJlbnRTZWdtZW50U2V0LmZpbmRJbmRleChmdW5jdGlvbiAoY3VyU2VnbWVudDIpIHsKICAgICAgICAgICAgcmV0dXJuIGN1clNlZ21lbnQyLnNwYW5JZCA9PT0gY3VyU2VnbWVudC5wYXJlbnRTcGFuSWQ7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgICAgIGlmIChjdXJyZW50U2VnbWVudFNldFtpbmRleF0uaXNCcm9rZW4gJiYgY3VycmVudFNlZ21lbnRTZXRbaW5kZXhdLnBhcmVudFNwYW5JZCA9PT0gLTEgfHwgIWN1cnJlbnRTZWdtZW50U2V0W2luZGV4XS5pc0Jyb2tlbikgewogICAgICAgICAgICAgIGN1cnJlbnRTZWdtZW50U2V0W2luZGV4XS5jaGlsZHJlbi5wdXNoKGN1clNlZ21lbnQpOwogICAgICAgICAgICAgIGN1cnJlbnRTZWdtZW50U2V0W2luZGV4XS5jaGlsZHJlbi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYS5zcGFuSWQgLSBiLnNwYW5JZDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjdXJTZWdtZW50LmlzQnJva2VuKSB7CiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGxvZGFzaC5maWx0ZXIoZGF0YSwgZnVuY3Rpb24gKHNwYW4pIHsKICAgICAgICAgICAgICByZXR1cm4gbG9kYXNoLmZpbmQoc3Bhbi5yZWZzLCB7CiAgICAgICAgICAgICAgICB0cmFjZUlkOiBjdXJTZWdtZW50LnRyYWNlSWQsCiAgICAgICAgICAgICAgICBwYXJlbnRTZWdtZW50SWQ6IGN1clNlZ21lbnQuc2VnbWVudElkLAogICAgICAgICAgICAgICAgcGFyZW50U3BhbklkOiBjdXJTZWdtZW50LnNwYW5JZAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgICAgICB2YXIgX2N1clNlZ21lbnQkY2hpbGRyZW47CgogICAgICAgICAgICAgIGN1clNlZ21lbnQuY2hpbGRyZW4gPSBjdXJTZWdtZW50LmNoaWxkcmVuIHx8IFtdOwoKICAgICAgICAgICAgICAoX2N1clNlZ21lbnQkY2hpbGRyZW4gPSBjdXJTZWdtZW50LmNoaWxkcmVuKS5wdXNoLmFwcGx5KF9jdXJTZWdtZW50JGNoaWxkcmVuLCBfdG9Db25zdW1hYmxlQXJyYXkoY2hpbGRyZW4pKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHNlZ21lbnRNYXAuc2V0KHNlZ21lbnRJZCwgY3VycmVudFNlZ21lbnRTZXRbY3VycmVudFNlZ21lbnRTZXQubGVuZ3RoIC0gMV0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHsKICAgICAgICBzZWdtZW50TWFwOiBzZWdtZW50TWFwLAogICAgICAgIHNlZ21lbnRJZEdyb3VwOiBzZWdtZW50SWRHcm91cAogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImNvbGxhcHNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb2xsYXBzZShzcGFuKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHNwYW4uY2hpbGRyZW4pIHsKICAgICAgICB2YXIgZHVyID0gc3Bhbi5lbmRUaW1lIC0gc3Bhbi5zdGFydFRpbWU7CiAgICAgICAgc3Bhbi5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGxpZCkgewogICAgICAgICAgZHVyIC09IGNobGlkLmVuZFRpbWUgLSBjaGxpZC5zdGFydFRpbWU7CiAgICAgICAgfSk7CiAgICAgICAgc3Bhbi5kdXIgPSBkdXIgPCAwID8gMCA6IGR1cjsKICAgICAgICBzcGFuLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNobGlkKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMzLmNvbGxhcHNlKGNobGlkKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInRyYXZlcnNlVHJlZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhdmVyc2VUcmVlKG5vZGUsIHNwYW5JZCwgc2VnbWVudElkLCBjaGlsZE5vZGUpIHsKICAgICAgaWYgKCFub2RlIHx8IG5vZGUuaXNCcm9rZW4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChub2RlLnNwYW5JZCA9PT0gc3BhbklkICYmIG5vZGUuc2VnbWVudElkID09PSBzZWdtZW50SWQpIHsKICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2goY2hpbGROb2RlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihub2RlLmNoaWxkcmVuKSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgZ3JhbmRjaGlsZCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICB0aGlzLnRyYXZlcnNlVHJlZShncmFuZGNoaWxkLCBzcGFuSWQsIHNlZ21lbnRJZCwgY2hpbGROb2RlKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U3Bhbkdyb3VwRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3Bhbkdyb3VwRGF0YShncm91cHNwYW5zLCBncm91cFJlZikgewogICAgICB2YXIgbWF4VGltZSA9IDA7CiAgICAgIHZhciBtaW5UaW1lID0gMDsKICAgICAgdmFyIHN1bVRpbWUgPSAwOwogICAgICB2YXIgY291bnQgPSBncm91cHNwYW5zLmxlbmd0aDsKICAgICAgZ3JvdXBzcGFucy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cHNwYW4pIHsKICAgICAgICB2YXIgZHVyYXRpb24gPSBncm91cHNwYW4uZHVyIHx8IDA7CgogICAgICAgIGlmIChkdXJhdGlvbiA+IG1heFRpbWUpIHsKICAgICAgICAgIG1heFRpbWUgPSBkdXJhdGlvbjsKICAgICAgICB9CgogICAgICAgIGlmIChkdXJhdGlvbiA8IG1pblRpbWUpIHsKICAgICAgICAgIG1pblRpbWUgPSBkdXJhdGlvbjsKICAgICAgICB9CgogICAgICAgIHN1bVRpbWUgPSBzdW1UaW1lICsgZHVyYXRpb247CiAgICAgIH0pOwogICAgICB2YXIgYXZnVGltZSA9IGNvdW50ID09PSAwID8gMCA6IHN1bVRpbWUgLyBjb3VudDsKICAgICAgcmV0dXJuIHsKICAgICAgICBncm91cFJlZjogZ3JvdXBSZWYsCiAgICAgICAgbWF4VGltZTogbWF4VGltZSwKICAgICAgICBtaW5UaW1lOiBtaW5UaW1lLAogICAgICAgIHN1bVRpbWU6IHN1bVRpbWUsCiAgICAgICAgYXZnVGltZTogYXZnVGltZSwKICAgICAgICBjb3VudDogY291bnQKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYWxjdWxhdGlvbkNoaWxkcmVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGlvbkNoaWxkcmVuKG5vZGVzLCByZXN1bHQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgdmFyIGdyb3VwUmVmID0gbm9kZS5lbmRwb2ludE5hbWUgKyAiOiIgKyBub2RlLnR5cGU7CgogICAgICAgIGlmIChub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgICAgX3RoaXM0LmNhbGN1bGF0aW9uQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgcmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGlmIChyZXN1bHQuZ2V0KGdyb3VwUmVmKSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZXN1bHQuc2V0KGdyb3VwUmVmLCBbXSk7CiAgICAgICAgICByZXN1bHQuZ2V0KGdyb3VwUmVmKS5wdXNoKG5vZGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHQuZ2V0KGdyb3VwUmVmKS5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVHJhY2VVdGlsOwp9KCk7CgpleHBvcnQgeyBUcmFjZVV0aWwgYXMgZGVmYXVsdCB9Ow=="},null]}