{"remainingRequest":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/components/Tree.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/components/Tree.vue","mtime":1661850019000},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/unplugin/dist/webpack/loaders/transform.js","mtime":1663881224252},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1663881222784},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/thread-loader/dist/cjs.js","mtime":1663881222612},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/babel-loader/lib/index.js","mtime":1663881224500},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/ts-loader/index.js","mtime":1663881224684},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1663881222784},{"path":"/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/node_modules/vue-loader-v16/dist/index.js","mtime":1663881224404}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnCmltcG9ydCB7IHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgbm9ybWFsaXplU3R5bGUgYXMgX25vcm1hbGl6ZVN0eWxlLCB1bnJlZiBhcyBfdW5yZWYsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSIKCmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZCgiZGF0YS12LTcyODFhMmZhIiksbj1uKCksX3BvcFNjb3BlSWQoKSxuKQpjb25zdCBfaG9pc3RlZF8xID0geyBjbGFzczogInRyYWNlLXRyZWUtY2hhcnRzIGZsZXgtdiIgfQpjb25zdCBfaG9pc3RlZF8yID0geyBzdHlsZTogeyJwYWRkaW5nIjoiMTBweCAwIn0gfQpjb25zdCBfaG9pc3RlZF8zID0geyBjbGFzczogInRyYWNlLXRyZWUiIH0KCmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKaW1wb3J0IEdyYXBoIGZyb20gIi4vRDNHcmFwaC9JbmRleC52dWUiOwppbXBvcnQgdHlwZSB7IFByb3BUeXBlIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgU3BhbiB9IGZyb20gIkAvdHlwZXMvdHJhY2UiOwppbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAidnVlLWkxOG4iOwppbXBvcnQgeyByZWYsIG9uTW91bnRlZCB9IGZyb20gInZ1ZSI7CgovKiBnbG9iYWwgZGVmaW5lUHJvcHMgKi8KCmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9fZGVmaW5lQ29tcG9uZW50KHsKICBwcm9wczogewogIGRhdGE6IHsgdHlwZTogQXJyYXkgYXMgUHJvcFR5cGU8U3BhbltdPiwgZGVmYXVsdDogKCkgPT4gW10gfSwKICB0cmFjZUlkOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogIiIgfSwKfSwKICBzZXR1cChfX3Byb3BzKSB7Cgpjb25zdCBwcm9wcyA9IF9fcHJvcHMKCgpjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTsKY29uc3QgbGlzdCA9IHJlZjxzdHJpbmdbXT4oW10pOwpjb25zdCBjaGFydHMgPSByZWY8YW55PihudWxsKTsKCm9uTW91bnRlZCgoKSA9PiB7CiAgbGlzdC52YWx1ZSA9IEFycmF5LmZyb20obmV3IFNldChwcm9wcy5kYXRhLm1hcCgoaTogU3BhbikgPT4gaS5zZXJ2aWNlQ29kZSkpKTsKfSk7CmZ1bmN0aW9uIGNvbXB1dGVkU2NhbGUoaTogbnVtYmVyKSB7CiAgY29uc3Qgc2VxdWVudGlhbFNjYWxlID0gZDMKICAgIC5zY2FsZVNlcXVlbnRpYWwoKQogICAgLmRvbWFpbihbMCwgbGlzdC52YWx1ZS5sZW5ndGggKyAxXSkKICAgIC5pbnRlcnBvbGF0b3IoZDMuaW50ZXJwb2xhdGVDb29sKTsKICByZXR1cm4gc2VxdWVudGlhbFNjYWxlKGkpOwp9CgpyZXR1cm4gKF9jdHg6IGFueSxfY2FjaGU6IGFueSkgPT4gewogIGNvbnN0IF9jb21wb25lbnRfSWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJJY29uIikhCgogIHJldHVybiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbCiAgICBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCBbCiAgICAgIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QobGlzdC52YWx1ZSwgKGksIGluZGV4KSA9PiB7CiAgICAgICAgcmV0dXJuIChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCB7CiAgICAgICAgICBjbGFzczogInRpbWUtY2hhcnRzLWl0ZW0gbXItNSIsCiAgICAgICAgICBrZXk6IGluZGV4LAogICAgICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZShgY29sb3I6JHtjb21wdXRlZFNjYWxlKGluZGV4KX1gKQogICAgICAgIH0sIFsKICAgICAgICAgIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgICAgaWNvbk5hbWU6ICJpc3N1ZS1vcGVuLW0iLAogICAgICAgICAgICBjbGFzczogIm1yLTUiLAogICAgICAgICAgICBzaXplOiAic20iCiAgICAgICAgICB9KSwKICAgICAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGkpLCAxKQogICAgICAgIF0sIDQpKQogICAgICB9KSwgMTI4KSkKICAgIF0pLAogICAgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgWwogICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgIGNsYXNzOiAidHJhY2UtdHJlZS1idG4gbXItMTAiLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gKCRldmVudDogYW55KSA9PiAoY2hhcnRzLnZhbHVlLnRyZWUuc2V0RGVmYXVsdCgpKSkKICAgICAgfSwgX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoImRlZmF1bHQiKSksIDEpLAogICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgIGNsYXNzOiAidHJhY2UtdHJlZS1idG4gbXItMTAiLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKCRldmVudDogYW55KSA9PiAoY2hhcnRzLnZhbHVlLnRyZWUuZ2V0VG9wU2xvdygpKSkKICAgICAgfSwgX3RvRGlzcGxheVN0cmluZyhfdW5yZWYodCkoInRvcFNsb3ciKSksIDEpLAogICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgIGNsYXNzOiAidHJhY2UtdHJlZS1idG4gbXItMTAiLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKCRldmVudDogYW55KSA9PiAoY2hhcnRzLnZhbHVlLnRyZWUuZ2V0VG9wQ2hpbGQoKSkpCiAgICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHQpKCJ0b3BDaGlsZHJlbiIpKSwgMSkKICAgIF0pLAogICAgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgWwogICAgICBfY3JlYXRlVk5vZGUoR3JhcGgsIHsKICAgICAgICByZWZfa2V5OiAiY2hhcnRzIiwKICAgICAgICByZWY6IGNoYXJ0cywKICAgICAgICBkYXRhOiBfX3Byb3BzLmRhdGEsCiAgICAgICAgdHJhY2VJZDogX19wcm9wcy50cmFjZUlkLAogICAgICAgIHR5cGU6ICJUcmVlIgogICAgICB9LCBudWxsLCA4LCBbImRhdGEiLCAidHJhY2VJZCJdKQogICAgXSkKICBdKSkKfQp9Cgp9KQ=="},{"version":3,"file":null,"sources":["/home/sk117/final-project/apache-skywalking-apm-9.2.0/skywalking-ui/src/views/dashboard/related/trace/components/Tree.vue"],"sourcesContent":["<!-- Licensed to the Apache Software Foundation (ASF) under one or more\ncontributor license agreements.  See the NOTICE file distributed with\nthis work for additional information regarding copyright ownership.\nThe ASF licenses this file to You under the Apache License, Version 2.0\n(the \"License\"); you may not use this file except in compliance with\nthe License.  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License. -->\n<template>\n  <div class=\"trace-tree-charts flex-v\">\n    <div>\n      <span\n        class=\"time-charts-item mr-5\"\n        v-for=\"(i, index) in list\"\n        :key=\"index\"\n        :style=\"`color:${computedScale(index)}`\"\n      >\n        <Icon iconName=\"issue-open-m\" class=\"mr-5\" size=\"sm\" />\n        <span>{{ i }}</span>\n      </span>\n    </div>\n    <div style=\"padding: 10px 0\">\n      <a class=\"trace-tree-btn mr-10\" @click=\"charts.tree.setDefault()\">\n        {{ t(\"default\") }}\n      </a>\n      <a class=\"trace-tree-btn mr-10\" @click=\"charts.tree.getTopSlow()\">\n        {{ t(\"topSlow\") }}\n      </a>\n      <a class=\"trace-tree-btn mr-10\" @click=\"charts.tree.getTopChild()\">\n        {{ t(\"topChildren\") }}\n      </a>\n    </div>\n    <div class=\"trace-tree\">\n      <Graph ref=\"charts\" :data=\"data\" :traceId=\"traceId\" type=\"Tree\" />\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport * as d3 from \"d3\";\nimport Graph from \"./D3Graph/Index.vue\";\nimport type { PropType } from \"vue\";\nimport { Span } from \"@/types/trace\";\nimport { useI18n } from \"vue-i18n\";\nimport { ref, onMounted } from \"vue\";\n\n/* global defineProps */\nconst props = defineProps({\n  data: { type: Array as PropType<Span[]>, default: () => [] },\n  traceId: { type: String, default: \"\" },\n});\nconst { t } = useI18n();\nconst list = ref<string[]>([]);\nconst charts = ref<any>(null);\n\nonMounted(() => {\n  list.value = Array.from(new Set(props.data.map((i: Span) => i.serviceCode)));\n});\nfunction computedScale(i: number) {\n  const sequentialScale = d3\n    .scaleSequential()\n    .domain([0, list.value.length + 1])\n    .interpolator(d3.interpolateCool);\n  return sequentialScale(i);\n}\n</script>\n<style lang=\"scss\" scoped>\n.trace-tree {\n  height: 100%;\n  overflow: auto;\n}\n\n.trace-tree-btn {\n  display: inline-block;\n  border-radius: 4px;\n  padding: 0px 7px;\n  background-color: #40454e;\n  color: #eee;\n  font-size: 11px;\n}\n\n.trace-tree-charts {\n  overflow: auto;\n  padding: 10px;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\n.time-charts-item {\n  display: inline-block;\n  padding: 2px 8px;\n  border: 1px solid;\n  font-size: 11px;\n  border-radius: 4px;\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;AA0CA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;;;;;;;;;AARA;AAYrB;AACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/E,CAAC,CAAC,CAAC;AACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}]}